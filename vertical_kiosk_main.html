<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta content="BlendTrans(Duration=0.2)" http-equiv="Page-Enter">
    <meta content="BlendTrans(Duration=0.2)" http-equiv="Page-exit">
    <script src="js/jquery.js"></script><!--j쿼리-->
    <script src="js/hangul.js" type="text/javascript"></script> <!--한글변환-->
    <script src="js/hammer.js" type="text/javascript"></script> <!--hammer.js-->
    <!--
    <script src="js/jquery-ui-1.12.1/jquery-ui.js" type="text/javascript"></script>
-->
    <style>

            /* https://transfonter.org/ */
            /* 웹폰트 decode error 발생시 위 사이트에서 변환 후 사용 */
            
            @font-face{
                font-family:'IMPACT';
                src:url('font/IMPACT.TTF') format('truetype');
            }
        
            @font-face{
                font-family:'NotoSansCJKkr-Light';
                src:url('font/NotoSansCJKkr-Light.otf') format('truetype');
                
            }
        
            @font-face {
                font-family: 'THEJung130A';
                src: url('font/THEJung130A.woff2') format('woff2'),
                    url('font/THEJung130A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung170A';
                src: url('font/THEJung170A.woff2') format('woff2'),
                    url('font/THEJung170A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung160A';
                src: url('font/THEJung160A.woff2') format('woff2'),
                    url('font/THEJung160A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung110A';
                src: url('font/THEJung110A.woff2') format('woff2'),
                    url('font/THEJung110A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung140A';
                src: url('font/THEJung140A.woff2') format('woff2'),
                    url('font/THEJung140A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung150A';
                src: url('font/THEJung150A.woff2') format('woff2'),
                    url('font/THEJung150A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'THEJung120A';
                src: url('font/THEJung120A.woff2') format('woff2'),
                    url('font/THEJung120A.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            @font-face {
                font-family: 'TheJung130';
                src: url('font/TheJung130.woff2') format('woff2'),
                    url('font/TheJung130.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
        
            html,body{
                margin:0px;
                padding:0px;
                width:100%;
                height:100%;
                overflow: hidden;
                font-family: 'THEJung130A';
                touch-action: none;
                        
            }
        
            .cover_loading_main{position:fixed;width:100%;height:100%;left:0;right:0;top:0;bottom:0;background:#ffffff;z-index:100000;}
        
            
            
        
        /*
            @media all and(min-width:1080px){
                background-color: 
            }
        */
        
        
            /*
            ##Device = Desktops
            ##Screen = 1281px to higher resolution desktops
            ##Device = 데스크탑
            ##Screen = 1281px 이상 해상도 데스크탑
            */
        
            @media (min-width: 1281px) {
                body{
                    background-color: aqua;
                }
                .vertical_pages{
                    display: none;
                }
               
            }
        
            /*
            ##Device = Laptops, Desktops
            ##Screen = B/w 1025px to 1280px
            ##Device = 랩탑, 데스크탑
            ##Screen = 1025px에서 1280px 사이
            */
        
            @media (min-width: 1025px) and (max-width: 1280px) {
        
                /*
                우측 중앙 네비게이션 시작
                */
                .right_navigation{
                    position: fixed;
                    width:6.5%;
                    height:20%;
                    left:93%;
                    top:40%;
                    z-index: 10;
        
                }
        
                .right_navigation img{
        
                    width:74px;
                    height:108px;
                }
        
                .nav_right_btn_long{
                    width:74px !important;
                    height:140px !important;
                }
                /*
                우측 중앙 네비게이션 끝
                */
        
                /*
                메인 세로형 상단 CSS 시작
                */
        
                .vertical_kiosk_main{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                }
        
        
                .main_top_div{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:30%;
                    /*
                    background-color: cadetblue;
                    */
                }
        
                .banner_image{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                    float:left;
                    position: relative;
                    /*
                    background-color:springgreen;
                    */
                    overflow: hidden;
                }
        
                #id_banner_image{
                    width:100%;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:0;
                }

                #id_banner_image_left{
                    width:100%;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:-100%;
                }

                #id_banner_image_right{
                    width:100%;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:100%;
                }
        
                #id_banner_video{
                    width:100% !important;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:0;
                }

                #id_banner_video_left{
                    width:100% !important;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:-100%;
                }

                #id_banner_video_right{
                    width:100% !important;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                    top:0;
                    left:100%;
                }
        
                #id_banner_image_left_btn{
                    width:51px;
                    height:51px;
                    top:45%;
                    left:3%;
                    display: block;
                    position: absolute;
                    float:left;
                    z-index: 1;
                }
        
                #id_banner_image_right_btn{
                    width:51px;
                    height:51px;
                    top:45%;
                    left:92%;
                    display: block;
                    position: absolute;
                    float:right;
                    z-index: 1;
                }
        
        
        
                .brand_image{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                    float:left;
                    position: relative;
                    /*
                    background-color:springgreen;
                    */
                    overflow: hidden;
                }
        
                #id_brand_image{
                    width:100%;
                    
                    position:absolute;
                }
        
                #id_brand_video{
                    width:100% !important;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                }
        
                #id_brand_image_left_btn{
                    width:51px;
                    height:51px;
                    top:45%;
                    left:3%;
                    display: block;
                    position: absolute;
                    float:left;
                    z-index: 1;
                }
        
                #id_brand_image_right_btn{
                    width:51px;
                    height:51px;
                    top:45%;
                    left:92%;
                    display: block;
                    position: absolute;
                    float:right;
                    z-index: 1;
                }
        
        
                /*
                세로형 상단 CSS 끝
                */
        
                /*
                세로형 하단 CSS 시작
                */
        
                .main_bot_div{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:70%;
                    display:none;
                    /*
                    background-color:burlywood;
                    */
                }
        
                .main_bot_brand{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:70%;
        
                }
        
                .main_bg{
                    position: absolute;
                    width:100%;
                    height:100%;
                    top:0;
                    left:0;
                    background-color: #f1f1f3;
                    z-index: -1;
                }
        
                .main_bot_brand_list{
                    width:80%;
                    height:100%;
                    margin-top: 12%;
                    margin-left:10%;
                }
        
                .main_bot_brand_list_information{
                    width:28%;
                    height:24%;
                    margin-left:4%;
                    margin-bottom: 2%;
                    float:left;
                }
        
                .main_bot_brand_list_information_top{
                    width:100%;
                    height:70%;
                    font-size:58px;
                    font-weight: 400;
                    margin-top:5%;
                }
        
                .main_bot_brand_list_information_top_bold{
                    font-size:58px;
                    font-weight: 800;
                }
        
                .main_bot_brand_list_information_bot{
                    width:100%;
                    height:30%;
                    font-size:22px;
                    font-weight: 400;
                }
        
                .main_bot_brand_list img{
                    width:242px;
                    height:326px;
                    margin-left:4%;
                    margin-bottom: 2%;
                    /*
                    box-shadow: 5px 5px #e0e0e0;
                    */
                    border-radius: 10px;
                }
        
                .search_information{
                    
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:25%;
                    margin-top:5%;
        
                }
        
                .search_information_top{
                    width:100%;
                    height:40%;
                }
        
                .search_information_current_floor{
                    margin-top:4%;
                    margin-left:12%;
                    float:left;
                    font-size:82px;
                    font-weight: 600;
                }
        
                .search_information_current_floor_img{
                    position: absolute;
                    left:12%;
                    top:47.2%;
                }
        
                .search_information_current_floor div{
        
                    font-size:16px;
                    font-weight: 600;
                    position: absolute;
                    margin-left:2%;
                }
        
                .search_information_button_bot{
                    width:3%;
                    height:0.5%;
                    float:left;
                    background-color:#5f6773;
                    margin-top:8.5%;
                    margin-left:-12%;
                }
        
                .search_information_button_bot_text{
                    width:12%;
                    height:1%;
                    float:left;
                    margin-top:10%;
                    margin-left:-16%;
                    text-align: center;
                    font-size:16px;
                    font-weight: 600;
                    
                }
        
                .search_information_text_top{
                    text-align: center;
                    font-size:42px;
                    padding-top:38px;
                    font-weight: 600;
                    width:100%;
                    height:40%;
                }
        
                .search_information_text_bot{
                    text-align: center;
                    font-size:28px;
                    padding-top:10px;
                    font-weight: 600;
                    width:100%;
                    height:40%;
                }
        
                .search_information_button{
                    margin-top:4%;
                    width:100%;
                    height:60%;
                    margin-left:33%;
        
                }
        
                .floor_btn{
                    width:6.2%;
                    height: 25%;
                    text-align: center;
                    font-size:34px;
                    font-weight: 600;
                    background-color:white;
                    float:left;
                    margin-right:7%;
                    border-radius: 1000px;
                    padding-top:1.5%;
                    border:3px solid #2b2a26;
                    
                }
        
                .all_floor_btn{
                    width:6.2%;
                    height: 25%;
                    text-align: center;
                    font-size:21px !important;
                    font-weight: 600;
                    background-color:white;
                    float:left;
                    margin-right:7%;
                    border-radius: 1000px;
                    padding-top:1%;
                    padding-bottom: 0.5%;
                    border:3px solid #2b2a26;
                    
                }
        
                
        
                .map_preview{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:55%;
                    
                }
        
                .map_information{
                    margin-top:1%;
                    width:100%;
                    height:6%;
                    position:absolute;
                }
        
                .map_information_line{
                    position:absolute;
                    width:80%;
                    height:1px;
                    float:left;
                    background-color:#e1e1e1;
                    top:52%;
                    left:10%;
                }
        
                .map_information_public{
                    width:100%;
                    height:10%;
                    margin-left:12%;
                    margin-top:4.5%;
                    
                }
        
                .map_information_zoom_btn{
                    width:100%;
                    height:10%;
                    margin-left:66%;
                    margin-top: -1.3%;
                }
        
                .map_information_zoom_btn{
                    width:100%;
                    height:6%;
                }
        
                .map_outer_line{
                    position: absolute;
                    margin-top:12%;
                    margin-bottom: 10%;
                    left:10%;
                    width:80%;
                    height:34%;
                    float:left;
                    border:1px solid #e1e1e1;
        
                }
        
                .map{
                    margin:0px;
                    padding:0px;
                    width:70%;
                    height:80%;
                    position: relative;
                    overflow: hidden;
                    margin-left:15%;
                    margin-top:15%;
                }
        
                .bot_foot{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:20%;
             
                }
        
                .bot_foot_text{
                    position: absolute;
                    z-index: -1;
                    left:30%;
                    top:92%;
                    font-size:18px;
                    font-weight: 400;
                    text-align: center;
                }

                .main_pre_btn{
                    width:265px;
                    height:65px;
                    position: absolute;
                    z-index: 2;
                    left:40%;
                    top:94.5%;
                }
                
                #id_map_image{
                    position: absolute;
                }
        
                .map_stores{
                    width:100%;
                    height:100%;
                    position: absolute;
                    transform-style: flat;
                }
                .map_store{
                    position: absolute;
                    min-width: 100px;
                    min-height: 100px;
                    width:auto;
                    height:auto;
                    z-index: 1;
                    text-align: center;
                }
        
                .store_popup{
                    position: absolute;
                    width:36px;
                    height:55px;
                    border: 1px;
                    display: none;
                    z-index: 1;
                    margin-left:-20px;
                    margin-top:-50px;
                    
                }
        
                .store_popup img{
                    width:100%;
                    height:100%;
                    
                }
        
                .kiosk_popup{
                    position: absolute;
                    width:80px;
                    height:77px;
                    display: none;
                    z-index: 1;
                    margin-left:-40px;
                    margin-top:-45px;
                    
                }

                .kiosk_popup img{
                    width:80px;
                    height:77px;
                }
        
                .kiosk_popup_text{
                    position: absolute;
                    width:74px;
                    height:22px;
                    display: none;
                    z-index: 1;
                    
                }
        
                
        
            
        
                /* 키보드 시작 */
                .keyboard{
                    margin-top:12%;
                    width:100%;
                    height:18%;
                    position: absolute;
                    background-color:#2b2a26;
                    z-index: 12;
                    
                }

                .searchbar_preview{
                    top:-450px;
                    width:66%;
                    height:auto;
                    border: 1px solid #bcbcbc;
                    margin-left:10%;
                    padding:2%;
                    position:absolute;
                    z-index: -10;
                    border-radius: 40px;
                    background-color:white;
                    display: none;
                }

                .searchbar_preview_div{
                    width:94%;
                    height:40px;
                    /*
                    border: 1px solid #bcbcbc;
                    */
                    margin-left:20px;
                    text-align: center;
                    font-size: 32px;
                    line-height: 40px;
                    margin-top:5px;
                }
        
                .searchbar{
                    width:100%;
                    height:6%;
                    position: absolute;
                    background-color:#2b2a26;
                    z-index: 3;
                    padding-top:2%;
                    z-index: 12;
                }
        
                .searchbar_text{
                    width:70%;
                    height:40%;
                    background-color: white;
                    border: 1px solid #bcbcbc;
                    margin-left:10%;
                    margin-top:2%;
                    text-align: center;
                    font-size: 32px;
                    border-top-left-radius:40px;
                    border-bottom-left-radius:40px;
                    float:left;
                    padding-top:1%;                    
                }

        
                .searchbar_icon{
                    width:10%;
                    height:40%;
                    background-color: brown;
                    margin-top:2%;
                    text-align: center;
                    font-size: 32px;
                    border-top-right-radius:40px;
                    border-bottom-right-radius:40px;
                    color:white;
                    float:left;
                    padding-top:1%;
                    
                }
                
                .searchbar_close{
                    width:10%;
                    height:60%;
                    border-radius:30px;
                    text-align: center;
                    color: white;
                    float:left;
                    margin-top:14px;
                    margin-left:100px;
                }
        
                .keyboard_line{
                    width:100%;
                    height:12%;
                    margin-top:2%;
                    text-align: center;
                }
        
                .keyboard_key{
                    
                    width:4.5%;
                    height:100%;
                    position: relative;
                    border-radius: 70px;
                    background-color: white;
                    margin: 10px;
                    text-align: center;
                    display: inline-block;          
                    font-size: 28px;
                    padding-top:0.7%;
                    
                }
        
                .function_key_long{
                    width:10%;
                }
        
                .function_key_middle{
                    width:8%;
                }
        
                .function_key_short{
                    width:6%;
                }
        
                .keyboard_black{
                    background-color:#5f6773;
                }
        
                .keyboard_white{
                    background-color:white;
                }
                /* 키보드 끝 */
        
                /*
                메인 세로형 하단 CSS 끝
                */
        
                /* 스크린 세이버 시작 */
        
                .vertical_kiosk_screen{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                }
        
                .touch_div{
                    top:50%;
                    left:50%;
                    width:20%;
                    height:20%;
                    position: absolute;
                    font-size:30px;
                    color:red;
                    display: none;
                }
                /* 스크린 세이버 끝 */
        
                /* 네비게이션 시작 */
        
                .vertical_kiosk_navigation{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                    background-color: #f1f1f3;
                }
        
                .nav_top_point{
                    width:100%;
                    height:0.8%;
                }
        
                .nav_top_point_left{
                    width:20%;
                    height:100%;
                    background-color:#d90000;
                    float:left;
                }
        
                .nav_top_point_right{
                    width:80%;
                    height:100%;
                    background-color: #363636;
                    float:left;
                }  
        
                .nav_top{
                    width:100%;
                    height:19%;
                    margin-top:14%;
                    margin-left:14%;
                }
        
                .nav_top_text{
                    text-align: center;
                    padding-top:12%;
                    width:50%;
                    height:100%;
                    margin-left:25%;
                    font-weight: 400;
                    font-size:60px;
                    color:#000000;
                }
        
                .nav_middle{
                    width:80%;
                    height:60%;
                    margin-left:8%;
                    margin-top:5%;
                }
        
                .nav_middle_menu{
                    width:50%;
                    height:50%;
                    /*
                    border: 1px dashed #bcbcbc;
                    */
                    float:left;
                    position: relative;
                    
                }        
        
                .nav_middle_menu_img{
                    height:100%;
                    width:100%;
                    left:16%;
                    position:absolute;
          
                }
        
                .nav_middle_menu_icon_left{
                    position:absolute;
                    left:31%;
                    top:67.5%;
        
                }
        
                .nav_middle_menu_icon_right{
                    position:absolute;
                    z-index: 1;
                    left:86%;
                    top:67.5%;
                }
        
                .nav_middle_menu_text{
                    position:absolute;
                    font-size:32px;
                    font-weight: 600;
                    z-index: 1;
                    left:24%;
                    top:68%;
                    color:#000000;
                    width:100%;
                    
                }
        
                .nav_middle_menu_sub_text{
                    position:absolute;
                    font-size:16px;
                    font-weight: 600;
                    z-index: 1;
                    left:24%;
                    top:77%;
                    color:#000000;
                    width:70%;
                    line-height:1.5em;
                }
        
                .nav_foot img{
                    position: absolute;
                    top:1478px;
                    z-index: -1;
                }
        
                /* 네비게이션 끝 */
        
                /* 이벤트 시작 */
        
                .vertical_kiosk_event{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                }
        
                .top_event_image{
                    width:1080px;
                    height:320px;
                    
                }
        
                .top_event_information{
                    width:100%;
                    height:10%;
                    margin-left:29%;
                    margin-top:7%;
                    margin-bottom: -3%;
                    
                }
        
                .middle_event{
                    height:54%;
                    width:84%;
                    margin-left:8%;

                    /*
					margin-top:40%;
					text-align:center;
					font-weight: 600;
                    font-size:60px;
					*/
                    
                }
        
                .middle_event_product{
                    border: 0.8px solid #bcbcbc;
                    box-shadow: 5px 5px #e0e0e0;
                    margin-left:4%;
                    margin-top:2%;
                    height:20%;
                    width:45%;
                    float:left;
                    margin-bottom:3%;
                    
                }
        
                .middle_event_product_left{
                    height:99%;
                    width:49.9%;
                    float:left;
                    margin-top:0.1%;
                    margin-bottom:0.1%;
                    margin-left:0.1%;
                }
        
                .middle_event_product_right{
                    height:99%;
                    width:45%;
                    float:left;
                    padding-left:5%;
                    margin-top:0.1%;
                    margin-bottom:0.1%;
                    background-color: white;
                }
        
                .middle_event_product_right_top{
                    width:90%;
                    height:36%;
                    padding-top:10%;
                    font-weight: 600;
                    font-size:16px;
                
                }
        
                .middle_event_product_right_middle{
                    width:100%;
                    height:26%;
        
                }
        
                .middle_event_product_right_middle_number{
                    width:auto;
                    height:30%;
                    font-size:24px;
                    float:left;
                    font-family: 'IMPACT';
        
                }
        
                .middle_event_product_right_middle_text{
        
                    width:10%;
                    height:30%;
                    font-size:20px;
                    float:left;
                    padding-top:1%;
        
                }
        
                .middle_event_product_right_bot{
        
                    width:160px;
                    height:38px;
                      
                }
        
                .event_foot{
                    width:100%;
                    height:30%;
                    
                }
        
                .event_foot img{
                    position: absolute;
                    top:1535px;
                    left:653px;
                    z-index:-1
                }
        
                /* 이벤트 끝 */
        
                /* 이벤트 팝업 시작 */
        
                .vertical_kiosk_event_popup{
                    margin:0px;
                    padding:0px;
                    width:100% !important;
                    height:100% !important;
                    background-color: rgba( 158, 158, 158, 0.9 );
                    position: absolute;
                    display: block;
                    top:0;
                    left:0;
                    display:none;
                    z-index:10;
                }
        
                .event_popup_close{
                    width:9%;
                    height:5%;
                    position: absolute;
                    z-index: 1;
                    top:70%;
                    left:82%;
                }
        
                .event_popup{
        
                    width:595px;
                    height:61.1%;
                    position: absolute;
                    z-index: 1;
                    background-color: white;
                    top:14%;
                    left:23%;
                    border-radius: 10px 10px 10px 10px;        
                }
        
                .event_popup_top{
                    width:595px;
                    height:595px;
                    margin:0;
                    padding:0;
                }
        
                .event_popup_top_image{
                    width:595px;
                    height:595px;
                    border-radius: 10px 10px 0px 0px; 
                }
        
                .event_popup_middle{
                    width:100%;
                    height:37%;
                }
        
                .event_popup_middle_title{
                    width:90%;
                    height:30%;
                    font-weight: 600;
                    font-size:36px;
                    text-align: center;
                    padding-top:8%;
                    margin-left:5%;
                    font-family: 'THEJung150A';
                    padding-bottom:12%;
                }
        
                .event_popup_middle_price{
                    width:90%;
                    height:20%;
                    margin-left:5%;
                }

                .lpoint_img{
                    position: absolute;
                    left:12%;
                    top:74%;
                }
        
                .event_popup_middle_price_text{
                    width:5%;
                    height:5%;
                    float:left;
                    font-weight: 600;
                    font-size:20px;
                    position: absolute;
                    left:86%;
                    margin-top:10%;
                }
        
                .event_popup_middle_price_normal{
                    width:20%;
                    height:100%;
                    font-weight: 1000;
                    font-size:42px;
                    text-align: center;
                    margin-left:5%;
                    float: left;
                    margin-top:6%;
                }
        
                .event_popup_middle_price_normal_text{
                    width:100%;
                    height:30%;
                    font-weight: 800;
                    font-size:22px;
                    color:#d90000;
                    text-align: right;
                    float:right;
                    margin-bottom: 3%;
                }
        
                .event_popup_middle_price_normal_number{
                    width:100%;
                    height:70%;
                    font-weight: 600;
                    font-size:24px;
                    text-align: left;
                    float: left;
                }
        
                .event_popup_middle_price_arrow{
                    width:2%;
                    height:100%;
                    float:left;
                    position: absolute;
                }
        
                .event_popup_middle_price_special{
                    width:54%;
                    height:100%;
                    float: left;
                    text-align: center;
                }
        
                .event_popup_middle_price_special_number{
                    width:100%;
                    height:80%;
                    font-weight: 400;
                    font-size:62px;
                    text-align: right;
                    font-family: 'IMPACT';
                    float:right;
                }
        
                .event_popup_middle_price_special_text{
                    width:100%;
                    height:20%;
                    font-weight: 800;
                    font-size:22px;
                    color:#d90000;
                    text-align: right;
                    float:right;
                    padding-right:2%;
                    margin-bottom: 3%;
        
                }
        
                .event_popup_middle_information{
                    margin-left:10%;
                    margin-top:2%;
                    width:80%;
                    height:18%;
                    background-color: #f1f1f3;
                    float: left;
                    
                }
        
                .event_popup_middle_information_text{
                    width:100%;
                    height:100%;
                    font-weight: 600;
                    font-size:18px;
                    text-align: left;
                    margin:3%;
                    line-height:1.5em;
                }
        
                .event_popup_bot{
        
                    width:595px;
                    height:85px;
                    margin-top:10%;
                    
                }
                
                .event_popup_bot img{
        
                    width:100%;
                    height:100%;
                    border-radius: 0px 0px 10px 10px;
        
                }
        
                
        
             
        
                /* 이벤트 팝업 끝 */
        
                /* 브랜드 정보 페이지 시작 */
        
                .vertical_kiosk_brand{
                    margin:0px;
                    padding:0px;
                    width:100%;
                    height:100%;
                }
        
                .vertical_kiosk_brand img{
                    position: absolute;
                    width:100%;
                    height:100%;
                }
        
                .vertical_kiosk_brand_menu{
                    position:absolute;
                    width:40%;
                    height:10%;
                    top:50%;
                    left:30%;
                }
        
                .vertical_kiosk_brand_menu_btn{
                    margin-left:10%;
                    width:40%;
                    height:100%;
                    float:left;
                    background-color: #363636;
                }
        
                #id_brand_image{
                    width:100%;
                    
                    position:absolute;
                }
        
                #id_brand_video{
                    width:100% !important;
                    position:absolute;
                    float:left;
                    padding:0px;
                    margin:0px;
                }
        
                /* 브랜드 정보 페이지 끝 */
        
                /* 전층안내 팝업 시작 */
                
        
                .vertical_kiosk_floor_popup{
                    margin:0px;
                    padding:0px;
                    width:100% !important;
                    height:100% !important;
                    background-color: rgba( 158, 158, 158, 0.9 );
                    position: absolute;
                    display: block;
                    top:0;
                    left:0;
                    display:none;
                    z-index:10;
                }
        
                .floor_popup_close{
                    width:9%;
                    height:5%;
                    position: absolute;
                    z-index: 1;
                    top:67%;
                    left:84%;
                }
        
                .floor_popup{
        
                    width:60%;
                    height:60%;
                    position: absolute;
                    z-index: 1;
                    background-color: white;
                    top:12%;
                    left:20%;
                    border-radius: 10px;            
                }
        
                .floor_popup img{
        
                    width:100% !important;
                    height:100% !important;
                    border-radius: 10px;    
                           
                }
        
                /* 전층안내 팝업 끝 */
        
        
            }
        
            /*
            ##Device = Tablets, Ipads (portrait),
            ##Screen = B/w 768px to 1024px
            ##Device = 태블릿, 아이패드(세로),
            ##Screen = 768px에서 1024px 사이
            */
        
            @media (min-width: 768px) and (max-width: 1024px) {
        
            }
        
            /*
            ##Device = Tablets, Ipads (landscape)
            ##Screen = B/w 768px to 1024px
            ##Device = 태블릿, 아이패드(가로)
            ##Screen = 768px에서 1024px 사이
            */
        
            @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
        
            }
        
            /*
            ##Device = Low Resolution Tablets, Mobiles (Landscape)
            ##Screen = B/w 481px to 767px
            ##Device = 저해상도 태블릿, 모바일(가로)
            ##Screen = 481px에서 767px 사이
            */
        
            @media (min-width: 481px) and (max-width: 767px) {
        
            }
        
            /*
            ##Device = Most of the Smartphones Mobiles (Portrait)
            ##Screen = B/w 320px to 479px
            ##Device = 대부분의 스마트폰 모바일 기기(세로)
            ##Screen = 320px에서 479px 사이
            */
        
            @media (min-width: 320px) and (max-width: 480px) {
               
            }
        
        </style>
    
</head>
<!--
<body oncontextmenu="return false">
-->
<body>
    <!--
    <div class="cover_loading_main"></div>
    -->
    <!-- 전 페이지 배경화면 색깔 지정 -->
    <div class="main_bg"></div>
    <!-- 전 페이지 배경화면 색깔 지정 -->

    <!-- 우측 중앙 네비게이션 바 시작 -->
    <div class="right_navigation">
        <img class="nav_move_btn nav_right_btn statis_menu" data-statis_menu="main" id="id_nav_right_btn_main" data-menu="main" src="./image/navigation_bt_01.png"/>
        <img class="nav_move_btn nav_right_btn statis_menu" data-statis_menu="event" id="id_nav_right_btn_event" data-menu="event" src="./image/navigation_bt_02.png"/>
        <img class="nav_move_btn nav_right_btn statis_menu" data-statis_menu="brand" id="id_nav_right_btn_brand" data-menu="brand" src="./image/navigation_bt_03.png"/>
        <img class="nav_move_btn nav_right_btn nav_right_btn_long statis_menu" data-statis_menu="coupon" id="id_nav_right_btn_coupon" data-menu="coupon" src="./image/navigation_bt_04.png"/>
    </div>
    <!-- 우측 중앙 네비게이션 바 끝 -->

    <!-- 세로형 안내 키오스크 메인 시작 -->
    <div class="vertical_kiosk_main vertical_pages">

    <!-- 상단 컨텐츠 시작 -->
    <div class="main_top_div">

        <!-- 상단 메인 광고 이미지 시작 -->
        <div class="banner_image">
            <img class="banner_image_btn image_move_btn" data-direction="left" id="id_banner_image_left_btn" src="./image/brand_popup_arrow_pre.png" height="51" width="51">
            <img class="banner_preview" id="id_banner_image_left" src="./contents/banner/1_같이가요(가로).jpg"/>
            <video class="banner_video banner_preview" id="id_banner_video_left" muted="muted" oncontextmenu="false" autoplay></video>
            <img id="id_banner_image"/>
            <video class="banner_video" id="id_banner_video" muted="muted" oncontextmenu="false" autoplay></video>
            <img class="banner_preview" id="id_banner_image_right" src="./contents/banner/1_같이가요(가로).jpg" />
            <video class="banner_video banner_preview" id="id_banner_video_right" muted="muted" oncontextmenu="false" autoplay></video>
            <img class="banner_image_btn image_move_btn" data-direction="right" id="id_banner_image_right_btn" src="./image/brand_popup_arrow_next.png" height="51" width="51">
        </div>
        <!-- 상단 메인 광고 이미지 끝 -->

        <!-- 상단 브랜드 광고 이미지 시작 -->
        <div class="brand_image">
            <img class="brand_image_btn image_move_btn" data-direction="left" id="id_brand_image_left_btn" src="./image/brand_popup_arrow_pre.png" height="51" width="51">
            <img id="id_brand_image"/>
            <video class="brand_video" id="id_brand_video" muted="muted" oncontextmenu="false" autoplay></video>
            <img class="brand_image_btn image_move_btn" data-direction="right" id="id_brand_image_right_btn" src="./image/brand_popup_arrow_next.png" height="51" width="51">
        </div>
        <!-- 상단 브랜드 광고 이미지 끝 -->
        
    </div>
    <!-- 상단 컨텐츠 끝 -->
    

    <!-- 하단 컨텐츠 시작 -->
    <div class="main_bot_div">
        <!-- 하단 상단 텍스트 시작 -->
        <div class="search_information">
            <div class="search_information_top">    
                <div class="search_information_text_top">위치찾기</div>
                <div class="search_information_text_bot">찾고자 하는 층을 눌러주세요</div>
            </div>
            <div class="search_information_current_floor"><img class="search_information_current_floor_img" src="./image/main_ic_current.png">현재위치</div>
            <div class="search_information_button">
                <!--
                <div>B1</div>
                <div>1F</div>
                <div>2F</div>
                -->
            </div>
        </div>
        <!-- 하단 상단 텍스트 끝 -->

        <!--공용시설 안내, 맵확대,축소 버튼 시작-->
        <div class="map_information_line"></div>
        <div class="map_information">
            <div class="map_information_public">
                <img src="./image/main_img_public.png" />
            </div>
            <div class="map_information_zoom_btn">
                <img class="map_zoom_plus map_zoom_btn" src="./image/main_bt_map_plus.png" />
                <img class="map_zoom_minus map_zoom_btn" src="./image/main_bt_map_minus.png"  id="id_btn_img01" />
            </div>
        </div>
        <!--공용시설 안내, 맵확대,축소 버튼 끝-->


        <!-- 하단 맵 시작 -->
        <div class="map_outer_line"></div>
        <div class="map_preview">

            <!-- 서치바 시작 -->
            <div class="searchbar">
                <!-- 검색어 자동 완성 미리 보기-->
                <div class="searchbar_preview">

                </div>

                <div class="searchbar_text">검색어를 입력하세요</div>
                <div class="searchbar_icon">검색</div>
                <div class="searchbar_close">닫기</div>
            </div>
            <!-- 서치바 끝 -->

            <!-- 키보드 시작 -->
            <div class="keyboard">

                <div class="keyboard_line">
                    <div class="keyboard_key" data-eng="1" data-kor="1" data-eng-shift="1" data-kor-shift="1">1</div>
                    <div class="keyboard_key" data-eng="2" data-kor="2" data-eng-shift="2" data-kor-shift="2">2</div>
                    <div class="keyboard_key" data-eng="3" data-kor="3" data-eng-shift="3" data-kor-shift="3">3</div>
                    <div class="keyboard_key" data-eng="4" data-kor="4" data-eng-shift="4" data-kor-shift="4">4</div>
                    <div class="keyboard_key" data-eng="5" data-kor="5" data-eng-shift="5" data-kor-shift="5">5</div>
                    <div class="keyboard_key" data-eng="6" data-kor="6" data-eng-shift="6" data-kor-shift="6">6</div>
                    <div class="keyboard_key" data-eng="7" data-kor="7" data-eng-shift="7" data-kor-shift="7">7</div>
                    <div class="keyboard_key" data-eng="8" data-kor="8" data-eng-shift="8" data-kor-shift="8">8</div>
                    <div class="keyboard_key" data-eng="9" data-kor="9" data-eng-shift="9" data-kor-shift="9">9</div>
                    <div class="keyboard_key" data-eng="0" data-kor="0" data-eng-shift="0" data-kor-shift="0">0</div>
                    <div class="keyboard_key function_key_short keyboard_black" data-eng="del" data-kor="del">del</div>
                </div>

                <div class="keyboard_line">
                    
                    <div class="keyboard_key" data-eng="q" data-kor="ㅂ" data-eng-shift="Q" data-kor-shift="ㅃ">ㅂ</div>
                    <div class="keyboard_key" data-eng="w" data-kor="ㅈ" data-eng-shift="W" data-kor-shift="ㅉ">ㅈ</div>
                    <div class="keyboard_key" data-eng="e" data-kor="ㄷ" data-eng-shift="E" data-kor-shift="ㄸ">ㄷ</div>
                    <div class="keyboard_key" data-eng="r" data-kor="ㄱ" data-eng-shift="R" data-kor-shift="ㄲ">ㄱ</div>
                    <div class="keyboard_key" data-eng="t" data-kor="ㅅ" data-eng-shift="T" data-kor-shift="ㅆ">ㅅ</div>
                    <div class="keyboard_key" data-eng="y" data-kor="ㅛ" data-eng-shift="Y" data-kor-shift="ㅛ">ㅛ</div>
                    <div class="keyboard_key" data-eng="u" data-kor="ㅕ" data-eng-shift="U" data-kor-shift="ㅕ">ㅕ</div>
                    <div class="keyboard_key" data-eng="i" data-kor="ㅑ" data-eng-shift="I" data-kor-shift="ㅑ">ㅑ</div>
                    <div class="keyboard_key" data-eng="o" data-kor="ㅐ" data-eng-shift="O" data-kor-shift="ㅒ">ㅐ</div>
                    <div class="keyboard_key" data-eng="p" data-kor="ㅔ" data-eng-shift="P" data-kor-shift="ㅖ">ㅔ</div>         
                                
                </div>

                <div class="keyboard_line">
                    
                    <div class="keyboard_key" data-eng="a" data-kor="ㅁ" data-eng-shift="A" data-kor-shift="ㅁ">ㅁ</div>
                    <div class="keyboard_key" data-eng="s" data-kor="ㄴ" data-eng-shift="S" data-kor-shift="ㄴ">ㄴ</div>
                    <div class="keyboard_key" data-eng="d" data-kor="ㅇ" data-eng-shift="D" data-kor-shift="ㅇ">ㅇ</div>
                    <div class="keyboard_key" data-eng="f" data-kor="ㄹ" data-eng-shift="F" data-kor-shift="ㄹ">ㄹ</div>
                    <div class="keyboard_key" data-eng="g" data-kor="ㅎ" data-eng-shift="G" data-kor-shift="ㅎ">ㅎ</div>
                    <div class="keyboard_key" data-eng="h" data-kor="ㅗ" data-eng-shift="H" data-kor-shift="ㅗ">ㅗ</div>
                    <div class="keyboard_key" data-eng="j" data-kor="ㅓ" data-eng-shift="J" data-kor-shift="ㅓ">ㅓ</div>
                    <div class="keyboard_key" data-eng="k" data-kor="ㅏ" data-eng-shift="K" data-kor-shift="ㅏ">ㅏ</div>
                    <div class="keyboard_key" data-eng="l" data-kor="ㅣ" data-eng-shift="L" data-kor-shift="ㅣ">ㅣ</div>
                    <div class="keyboard_key function_key_middle keyboard_black" data-eng="shift" data-kor="shift">shift</div>
                </div>

                <div class="keyboard_line">
                    <div class="keyboard_key function_key_short keyboard_black" data-eng="change" data-kor="change">한영</div>
                    <div class="keyboard_key" data-eng="z" data-kor="ㅋ" data-eng-shift="Z" data-kor-shift="ㅋ">ㅋ</div>
                    <div class="keyboard_key" data-eng="x" data-kor="ㅌ" data-eng-shift="X" data-kor-shift="ㅌ">ㅌ</div>
                    <div class="keyboard_key" data-eng="c" data-kor="ㅊ" data-eng-shift="C" data-kor-shift="ㅊ">ㅊ</div>
                    <div class="keyboard_key" data-eng="v" data-kor="ㅍ" data-eng-shift="V" data-kor-shift="ㅍ">ㅍ</div>
                    <div class="keyboard_key" data-eng="b" data-kor="ㅠ" data-eng-shift="B" data-kor-shift="ㅠ">ㅠ</div>
                    <div class="keyboard_key" data-eng="n" data-kor="ㅜ" data-eng-shift="N" data-kor-shift="ㅜ">ㅜ</div>
                    <div class="keyboard_key" data-eng="m" data-kor="ㅡ" data-eng-shift="M" data-kor-shift="ㅡ">ㅡ</div>
                    <div class="keyboard_key function_key_long keyboard_white" data-eng="space" data-kor="space">space</div>
                </div>



            </div>
            <!-- 키보드 끝 -->
            
            <div class="map">

                <div class="map_stores">
                    
                    <!-- 상점 팝업 시작 -->
                    <div class="store_popup">
                        <img src="./image/main_ic_destination_s.png">
                    </div>
                    <!-- 상점 팝업 끝 -->
                    
                    <!-- 키오스크 위치 팝업 시작 -->
                    <div class="kiosk_popup">
                        <img src="./image/main_ic_departure_s.png">
                    </div>
                    <!--
                        <img class="kiosk_popup_text" src="./image/main_ic_location.png">
                    -->
                    <!-- 키오스크 위치 팝업 끝 -->
                </div>
                <img id="id_map_image" src="./map/1F.png"/>
                
            </div>

        </div>
        <!-- 하단 맵 끝 -->

        <!-- 하단 여백 -->
        <div class="bot_foot">
            <!--
            <img src="./image/main_bg.png"/>
            -->
            <div class="bot_foot_text">* 점포사정에 따라 일부 상품위치가 상이 할 수 있습니다.</div>
            <img class="main_pre_btn" src="./image/main_bt_pre.png"/>
            
        </div>
        <!-- 하단 여백 -->
        
    </div>
    <!-- 하단 컨텐츠 끝 -->

    <!-- 브랜드 소개 시작 -->
    <div class="main_bot_brand">
        <div class="main_bot_brand_list">
            <div class="main_bot_brand_list_information">
                <div class="main_bot_brand_list_information_top">롯데마트 <div class="main_bot_brand_list_information_top_bold">브랜드 소개</div></div>
                <div class="main_bot_brand_list_information_bot">이미지를 터치시 자세한 내용을 볼 수 있습니다.</div>
            </div>
        </div>
    </div>
    <!-- 브랜드 소개 끝 -->
    </div>
    <!-- 세로형 안내 키오스크 메인 끝 -->

    <!-- 세로형 안내 키오스크 스크린세이버 시작 -->
    <div class="vertical_kiosk_screen vertical_pages">
        <div class="touch_div">터치 해주세요</div>
        <img id="id_screen_image"/>
        <video class="screen_video" id="id_screen_video" muted="muted" oncontextmenu="false" autoplay></video>
    </div>
    <!-- 세로형 안내 키오스크 스크린세이버 끝 -->    

    <!-- 세로형 안내 키오스크 네비게이션 시작 -->
    <div class="vertical_kiosk_navigation vertical_pages">

        <!-- 상단 색깔 포인트 시작 -->
        <div class="nav_top_point">
            <div class="nav_top_point_left"></div>
            <div class="nav_top_point_right"></div>
        </div>
        <!-- 상단 색깔 포인트 끝 -->

        <!-- 상단 안내 텍스트 시작 -->
        <div class="nav_top">
            <img src="./image/main_img_title.png" />
        </div>
        <!-- 상단 안내 텍스트 끝 -->

        <!-- 중단 메뉴 리스트 시작 -->
        <div class="nav_middle">

            <div class="nav_middle_menu statis_menu" data-statis_menu="main">
                <div class="nav_middle_menu_img">
                    <img id="id_nav_menu_image1" class="nav_move_btn" data-menu="main" src="./image/main_bt_01.png">
                </div>
                <div class="nav_middle_menu_text ">
                    위치찾기
                </div>
                <div class="nav_middle_menu_sub_text ">
                    진열되어 있는 상품을 위치안내 버튼 <br>하나로 안내를 받아 보세요
                </div>
            </div>

            <div class="nav_middle_menu statis_menu" data-statis_menu="event">
                <div class="nav_middle_menu_img">
                    <img id="id_nav_menu_image2" class="nav_move_btn" data-menu="event" src="./image/main_bt_02.png">
                </div>
                <div class="nav_middle_menu_text ">
                    금주의행사상품
                </div>
                <div class="nav_middle_menu_sub_text ">
                    이번주 할인 상품을 한 번에 받아보세요
                </div>

            </div>

            <div class="nav_middle_menu statis_menu" data-statis_menu="brand">
                <div class="nav_middle_menu_img">
                    <img id="id_nav_menu_image3" class="nav_move_btn" data-menu="brand" src="./image/main_bt_03.png">
                </div>

                <div class="nav_middle_menu_text ">
                    롯데마트 브랜드 소개
                </div>
                <div class="nav_middle_menu_sub_text ">
                    롯데마트만의 실생활에 필요한 브랜드를 <br>안내 받아 보세요
                </div>

            </div>

            <div class="nav_middle_menu statis_menu" data-statis_menu="coupon">
                <div class="nav_middle_menu_img">
                    <img id="id_nav_menu_image4" class="nav_move_btn" data-menu="coupon" src="./image/main_bt_04.png">
                </div>

                <div class="nav_middle_menu_text ">
                    M쿠폰
                </div>
                <div class="nav_middle_menu_sub_text ">
                    M쿠폰 스캔후 롯데마트 쿠폰을 한번에 <br>받아보세요
                </div>
  
            </div>
        </div>
        <!-- 중단 메뉴 리스트 끝 -->

        <!-- 하단 시작-->
        <div class="nav_foot">
            <!--
            <img src="./image/main_bg_text.png"/>
            -->
        </div>
        <!-- 하단 끝-->

    </div>
    <!-- 세로형 안내 키오스크 네비게이션 끝 -->    

    <!-- 세로형 안내 키오스크 행사 시작 -->
    <div class="vertical_kiosk_event vertical_pages">

        <img class="top_event_image" src="./image/product_img_topsample.png" />

        <div class="top_event_information">
            <img src="./image/product_img_text.png" />
            <!--
            <div class="top_event_information_left">
                <div></div>
            </div>
            <div class="top_event_information_text">
                제품을 터치시 자세한 내용을 볼 수 있습니다.
            </div>
            <div class="top_event_information_right">
                <div></div>
            </div>
            -->
        </div>

        <div class="middle_event">
            <!--

            <div class="middle_event_product">
                <img class="middle_event_product_left" src="./image/product/detail_01.jpg"/>
                <div class="middle_event_product_right">
                    <div class="middle_event_product_right_top">
                        Only Price 미네랄 워터
                    </div>
                    <div class="middle_event_product_right_middle">
                        <div class="middle_event_product_right_middle_number">25,000</div>
                        <div class="middle_event_product_right_middle_text">원</div>
                    </div>
                    <div class="middle_event_product_right_bot">
                        <img class="middle_event_product_right_bot_icon" src="./image/main_ic_01.png"/>
                        <div class="middle_event_product_right_bot_text">상품 위치안내</div>
                    </div>
                </div>
            </div>
           
            -->
        </div>

        <div class="event_foot">
            <img src="./image/product_img_bg_acc.png"/>
        </div>

    </div>
    <!-- 세로형 안내 키오스크 행사 끝 -->

    <!-- 세로형 안내 키오스크 쿠폰 시작 -->
    <div class="vertical_kiosk_coupon vertical_pages">
        <img src="./image/mcoupon.jpg"/> 
    </div>
    <!-- 세로형 안내 키오스크 쿠폰 끝 -->

    <!-- 세로형 안내 키오스크 행사 팝업 시작 -->
    <div class="vertical_kiosk_event_popup">
        <div class="event_popup">
            <div class="event_popup_top">
                <img class="event_popup_top_image" src="./contents/product/detail_01.jpg"/>
            </div>
            <div class="event_popup_middle">

                <div class="event_popup_middle_title">
                </div>
                <div class="event_popup_middle_price">
                    <!--
                    <img class="lpoint_img" src="./image/product_ic_LPOINT.png" />
                    -->
                    <div class="event_popup_middle_price_normal">
                        <div class="event_popup_middle_price_normal_text">점포매가</div>
                        <div class="event_popup_middle_price_normal_number"></div>
                    </div>
                    <div class="event_popup_middle_price_arrow"></div>
                    <div class="event_popup_middle_price_special">
                        <div class="event_popup_middle_price_special_text">비회원가/회원가</div>
                        <div class="event_popup_middle_price_special_number"></div>
                    </div>
                    <div class="event_popup_middle_price_text">원</div>
                </div>
                <div class="event_popup_middle_information">
                    <div class="event_popup_middle_information_text"></div>
                </div>
            </div>
            <div class="event_popup_bot">
                <img src="./image/main_bt_wayfinding.png"/>
            </div>
            
        </div>
        <img class="event_popup_close" src="./image/main_bt_x.png">
    </div>
    <!-- 세로형 안내 키오스크 행사 팝업 끝 -->

    <!-- 세로형 안내 키오스크 전층안내 팝업 시작 -->
    <div class="vertical_kiosk_floor_popup">
        <div class="floor_popup">
            <img src="./image/main_img_popup.png">
        </div>
        <img class="floor_popup_close" src="./image/main_bt_x.png">
    </div>
    <!-- 세로형 안내 키오스크 전층안내 팝업 끝 -->


    

</body>
</html>

<script>
    
    //CONFIG
    var gl_map_width = 1760;
    var gl_map_height = 1320;
    var gl_map_scale = 0.45;
    var gl_kiosk_floor = "B1";

    var gl_kiosk_touch_time = 30;
    var gl_kiosk_touch_timer_id;

    var gl_kiosk_code = getQuerystring('kiosk_code');

    var gl_ws_timer_id;

    //파라미터 파싱
    function getQuerystring(paramName){
        try{
            var _tempUrl = window.location.search.substring(1);
            //url에서 처음부터 '?'까지 삭제 
            var _tempArray = _tempUrl.split('&'); 
            // '&'을 기준으로 분리하기 
            for(var i = 0; _tempArray.length; i++) {
                var _keyValuePair = _tempArray[i].split('='); // '=' 을 기준으로 분리하기 
                if(_keyValuePair[0] == paramName){ // _keyValuePair[0] : 파라미터 명 
                    // _keyValuePair[1] : 파라미터 값 
                    return _keyValuePair[1]; 
                } 
            } 
        }catch{
            return "";
        }
    }

    var gl_arr_map_image = getMapList();

    function setFloorButtonColor(target_floor){
        
        var floor_btn = $('.floor_btn');

        for (var index = 0; index < floor_btn.length; index++) {

            var element = floor_btn[index];
            var floor = $(element).data("floor");
            
            if(target_floor === floor){
                $(element).css("background-color","#d90000");
                $(element).css("color","white");
                $(element).css("border", "#d90000 solid 3px"); 
            }else{
                $(element).css("background-color","white");
                $(element).css("color","black");
                $(element).css("border", "black solid 3px"); 
            }
        }
    }

    function setAllFloorPopup(json_objs){

        var arr_floor_button = json_objs.arr_floor_button;

        for (var index = 0; index < arr_floor_button.length; index++) {
            var element = arr_floor_button[index];

            $(element).on('click',function(e){       
                //var data = $(this).parent().parent().data();

                $('.vertical_kiosk_floor_popup').css( 
                    {display:"block"
                });

            });
        }
        };

    $('.floor_popup_close').on('click',function(e){
        $('.vertical_kiosk_floor_popup').css("display","none");
    })

    function setFloorButton(arr_map_image,map_img,kiosk_floor){

        //현재 리스트 초기화 
        var tmp_list = $('.floor_btn');
        
        for (var index = 0; index < tmp_list.length; index++) {
            var element = tmp_list[index];

            $(element).remove();
            
        }
        
        var tmp_str = "";
        var all_floor_str = "";
        all_floor_str += "<div class=\"all_floor_btn\"";                
        all_floor_str += ">";
        all_floor_str += "전층 안내";
        all_floor_str += "</div>";
        all_floor_str += "<div class=\"search_information_button_bot\"></div>";
        all_floor_str += "<div class=\"search_information_button_bot_text\">전체층 안내</div>";

        tmp_str += all_floor_str;

        var information_text = "";
        
        for (var index = 0; index < arr_map_image.length; index++) {
            var element = arr_map_image[index];

            var arr_split = element.split("\/");
            var str_split = arr_split[arr_split.length-1]
            arr_split = str_split.split("\.");

            
            if(kiosk_floor === arr_split[0]){

                $('.search_information_current_floor').html(arr_split[0] + "");
                $('.search_information_current_floor').append("<img class=\"search_information_current_floor_img\" src=\"./image/main_ic_current.png\"><div>현재위치</div>");
            }
            
            tmp_str += "<div class=\"floor_btn\"";

            /*
            if(kiosk_floor === arr_split[0]){
                tmp_str += "style=\"background-color:#d90000;color:white;\"";
            }
            */
            
            tmp_str += "data-map_url=\"" + element + "\"";
            tmp_str += "data-floor=\"" + arr_split[0] + "\"";
            tmp_str += ">";
            tmp_str += arr_split[0];
            
            
            
            tmp_str += "</div>";
            tmp_str += "<div class=\"search_information_button_bot\"></div>";

            if(arr_split[0] === "B1"){
                information_text = "식품 베이커리<br> 생활용품 홈퍼니싱";
            }else if(arr_split[0] === "1F"){
                information_text = "의류 패션잡화<br> 화장품";
            }else if(arr_split[0] === "2F"){
                information_text = "유아용의류 완구 문화센터 먹리단길";
            }

            tmp_str += "<div class=\"search_information_button_bot_text\">" + information_text + "</div>";
            
        }

        $('.search_information_button').append(tmp_str);

        var floor_btn = $('.floor_btn');

        for (var index = 0; index < floor_btn.length; index++) {
            var element = floor_btn[index];
            
            $(element).on('click',function(e){    

                //지도,키오스크 현위치, 상점위치 초기화
                setInitMap();
                
                $(map_img).attr("src",$(this).data("map_url"));
                setHideAnotherFloorStore($(this).data("floor"));
                setFloorButtonColor($(this).data("floor"));

                $('.kiosk_popup').css("display","none");
                $('.store_popup').css("display","none");
                
                if(kiosk_floor === $(this).data("floor")){
                    $('.kiosk_popup').css("display","block");
                    //$('.store_popup').css("display","block");
                }
                

            })
        }

        setFloorButtonColor(kiosk_floor);
    }

    function setInitMap(){

        var map_stores = document.querySelector('.map_stores');
        var map_image = document.querySelector('#id_map_image');

        var kiosk_popup = document.querySelector('.kiosk_popup');
        var store_popup = document.querySelector('.store_popup');
        
        $('#id_map_image').css("width",gl_map_width * gl_map_scale + "px");
        $('#id_map_image').css("height",gl_map_height * gl_map_scale + "px");
        $('#id_map_image').css("top","0px");
        $('#id_map_image').css("left","0px");
        
        $('.map_stores').css("top","0px");
        $('.map_stores').css("left","0px");
        $('.map_stores').css("width",gl_map_width * gl_map_scale + "px");
        $('.map_stores').css("height",gl_map_height * gl_map_scale + "px");

        
        map_stores.style.transform = "translate(" + 0 + "px, " + 0 + "px) scale(" + 1 + ") ";
        map_image.style.transform = "translate(" + 0 + "px, " + 0 + "px) scale(" + 1 + ") ";
        kiosk_popup.style.transform = "translate(" + 0 + "px, " + 0 + "px) scale(" + 1 + ") ";
        store_popup.style.transform = "translate(" + 0 + "px, " + 0 + "px) scale(" + 1 + ") ";

        map_image.style.zIndex=1;
        map_stores.style.zIndex=2;   
        
        /*
        
        */
        /*
        map_image.style.transform = "translate3d(" + 0 + "px, " + 0 + "px, 0) scale(" + 1 + ") preserve-3d";
        map_stores.style.transform = "translate3d(" + 0 + "px, " + 0 + "px, 0) scale(" + 1 + ") preserve-3d";
        kiosk_popup.style.transform = "translate3d(" + 0 + "px, " + 0 + "px, 0) scale(" + 1 + ")";
        store_popup.style.transform = "translate3d(" + 0 + "px, " + 0 + "px, 0) scale(" + 1 + ")";
        */
        
        
        //상점 지도에 그리는 기능 시작
        setStoreDrawingToMap();
        //키오스크 현재 위치 설정
        setKioskPopupPosition(gl_kiosk_code);

        

    }
    

    //우측 네비게이션바 색깔변경 기능 설정
    function setRightNavColor(obj){
        
        var menu = $(obj).data("menu");
        var arr_right_nav_btn = $('.nav_right_btn');

        setChangeImageButtonColor(arr_right_nav_btn,menu);
    }

    function setChangeImageButtonColor(arr,menu){

        for (var index = 0; index < arr.length; index++) {
            var element = arr[index];
            var tmp_menu = $(element).data("menu");
            var tmp_src = $(element).attr("src");
            var arr_src = tmp_src.split("\/");
            var target_src = arr_src[arr_src.length-1];
            target_src = target_src.split("\.");
            var remove_src = target_src[0].replace("_o","");

            if(menu === tmp_menu){
                target_src = tmp_src.replace(target_src[0],remove_src + "_o");
                $(element).attr("src",target_src);
            }else{
                target_src = tmp_src.replace(target_src[0],remove_src + "");
                $(element).attr("src",target_src);
            }
        }
    }

    function setInitImageButtonColor(arr){
        //초기화
        for (var index = 0; index < arr.length; index++) {
            
            var element = arr[index];
            var tmp_menu = $(element).data("menu");
            var tmp_src = $(element).attr("src");
            var arr_src = tmp_src.split("\/");
            var target_src = arr_src[arr_src.length-1];
            target_src = target_src.split("\.");
            var remove_src = target_src[0].replace("_o","");
            
            $(element).data("menu","off");

            target_src = tmp_src.replace(target_src[0],remove_src + "");
            $(element).attr("src",target_src);
        }
    }

    // 시계 기능
    function showClock(){
        var currentDate = new Date();
        var divClock = document.getElementById("time_div");
        var divDate = document.getElementById("date_div");
         
        var msg = currentDate.getHours()+":";

        if(currentDate.getMinutes() < 10){
            msg += "0"+currentDate.getMinutes()+"";
        }else{
            msg += currentDate.getMinutes()+"";
        }
        
        //msg += currentDate.getSeconds()+"초";
        divClock.innerText = msg;

        var date = currentDate.getFullYear() + "년 " + ( currentDate.getMonth() + 1 ) + "월 " + currentDate.getDate() + "일";
        divDate.innerText = date;

        setTimeout(showClock,1000);
        
    };

    //이미지 슬라이드 기능 시작
    function setSlideImage(json_obj){

        var button_obj = json_obj.button_obj;
        var image_obj = json_obj.image_obj;
        var video_obj = json_obj.video_obj;
        var arr_image = json_obj.arr_image;
        var slide_time = json_obj.slide_time;
        var image_div = json_obj.image_div;

        var img_timer_id;
        var init_timer_id;

        //첫번째 이미지로 초기화
        $(image_obj).attr("src",arr_image[0]);
        $(video_obj).attr("src",arr_image[0]);


        //드래그로 다음 컨텐츠 표출
        function setImageDrag(arr_image){

            var first_moveTouchY;
            var first_moveTouchX;

            var first_moveTouchY_left;
            var first_moveTouchX_left;

            var first_moveTouchY_right;
            var first_moveTouchX_right;

            var target_div;

            var target_div_left;
            var target_div_right;

            var target_btn_check;
            var target_tag_name;

            
            $(image_div).bind('touchstart', function(e) {       
                
                var arr_preview = $('.banner_preview');
    
                for (var index = 0; index < arr_preview.length; index++) {
                    var element = arr_preview[index];
    
                    $(element).css("display","none");
                        
                }

                target_div = $(e.target);
                target_tag_name = target_div.prop('tagName');
                target_btn_check = $(target_div).hasClass("image_move_btn");

                if(target_tag_name === "IMG"){
                    $(video_obj).css("display","none");
                }else if(target_tag_name === "VIDEO"){
                    $(image_obj).css("display","none");
                }

                $(target_div).css("display","block");

                //전역 변수에 현재 클릭 위치에서 현재 이미지 left 위치, top 위치를 뺀 값을 저장
                first_moveTouchX = event.targetTouches[0].pageX - parseInt($(target_div).css("left").replace("px","")); 
                first_moveTouchY = event.targetTouches[0].pageY - parseInt($(target_div).css("top").replace("px","")); 

                /*
                target_div_left = target_div.prev().prev();
                target_div_right = target_div.next().next();


                $(target_div_left).css("display","block");
                $(target_div_right).css("display","block");

                var target_left_uri = getNextImageUri(target_div,"left",arr_image);
                var target_right_uri = getNextImageUri(target_div,"right",arr_image);

                target_div_left.attr("src",target_left_uri);
                target_div_right.attr("src",target_right_uri);

                first_moveTouchX_left = event.targetTouches[0].pageX - parseInt($(target_div_left).css("left").replace("px","")); 
                first_moveTouchY_left = event.targetTouches[0].pageY - parseInt($(target_div_left).css("top").replace("px","")); 

                first_moveTouchX_right = event.targetTouches[0].pageX - parseInt($(target_div_right).css("left").replace("px","")); 
                first_moveTouchY_right = event.targetTouches[0].pageY - parseInt($(target_div_right).css("top").replace("px","")); 
                */

            });

            $(image_div).bind('touchmove', function(e) {
                
                if(!target_btn_check){
                    
                    target_div = $(e.target);
                    
                    e.preventDefault();
                    
                    var event = e.originalEvent;    
                    
                    var moveTouchX = event.targetTouches[0].pageX; 
                    var moveTouchY = event.targetTouches[0].pageY; 
                    
                    //y축이동 방지
                    if(first_moveTouchY > moveTouchY || first_moveTouchY < moveTouchY){
                        moveTouchY = first_moveTouchY;
                    }
                    
                    $(target_div).css(
                        
                        //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                        {top:moveTouchY - first_moveTouchY,
                            left:moveTouchX - first_moveTouchX
                            
                    });
                        
                    console.log(target_div.css("left"));
                        /*
                    $(image_obj).css(

                        //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                        {top:moveTouchY - first_moveTouchY,
                        left:moveTouchX - first_moveTouchX

                    });

                    $(video_obj).css(

                        //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                        {top:moveTouchY - first_moveTouchY,
                        left:moveTouchX - first_moveTouchX

                    });
                    $(target_div_left).css(

                        //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                        {top:moveTouchY - first_moveTouchY_left,
                        left:moveTouchX - first_moveTouchX_left

                    });

                    $(target_div_right).css(

                        //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                        {top:moveTouchY - first_moveTouchY_right,
                        left:moveTouchX - first_moveTouchX_right

                    });
    */

                    /*
                    if(first_moveTouchX - 129 < moveTouchX && first_moveTouchX - 99 > moveTouchX){
                        return;
                    }

                    if(first_moveTouchX + 129 > moveTouchX && first_moveTouchX + 99 < moveTouchX){
                        return;
                    }
                    */
                    
                    if(first_moveTouchX - 130 < moveTouchX && first_moveTouchX - 100 > moveTouchX){ //오른쪽으로 드래그

                        /*
                        resetImagePosition(target_div,"center");
                        resetImagePosition(target_div_left,"left");
                        resetImagePosition(target_div_right,"right");
                        */
                        
                        resetImagePosition(target_div,"center");
                        resetImagePosition(video_obj,"center");
                        resetImagePosition(image_obj,"center");
                        slideNextImage("right");
                        return;
                        
                    }

                    if(first_moveTouchX + 130 > moveTouchX && first_moveTouchX + 100 < moveTouchX){ //왼쪽으로 드래그
                        
                        /*
                        resetImagePosition(target_div,"center");
                        resetImagePosition(target_div_left,"left");
                        resetImagePosition(target_div_right,"right");
                        */
                        resetImagePosition(target_div,"center");
                        resetImagePosition(video_obj,"center");
                        resetImagePosition(image_obj,"center");
                        slideNextImage("left");
                        
                        return;
                    }
                }
                

            });

            $(image_div).bind('touchend', function(e) {
                if(!target_btn_check){
                
                    resetImagePosition(target_div,"center");
                    resetImagePosition(video_obj,"center");
                    resetImagePosition(image_obj,"center");
                }
            });

        }
        //setImageDrag(arr_image);

        function resetImagePosition(image_obj,sect){

            var top;
            var left;

            if(sect === "center"){
                top = "0px";
                left = "0px";
            }else if(sect === "left"){
                top = "0px";
                left = "-1080px";
            }else if(sect === "right"){
                top = "0px";
                left = "1080px";
            }

            $(image_obj).css(

                {top:top,
                left:left

            });
        }

        function setInitSlide(){

            var video_duration = video_obj.duration;
            //video_duration = 1000 * Math.floor(video_duration);

            if(isNaN(video_duration)){
                target_slide_time = slide_time;
            }else{
                target_slide_time = 1000 * (Math.floor(video_duration))
            }

             //동영상이 아니면
             if(isNaN(video_duration)){
                //console.log("1");
                img_timer_id = setTimeout(function() {
                    
                    slideNextImage("right");                    
                }, target_slide_time);
            }else{
                //console.log("2");
                img_timer_id = setTimeout(function() {
                    
                    slideNextImage("right");
                    
                }, target_slide_time);   
            }
        }

        window.setTimeout(function(t){
            setInitSlide();
        },1500);

        
    
        function slideNextImage(direction){

            clearTimeout(init_timer_id); //타이머 클리어

            var target_image = $(image_obj);
            var target_video = $(video_obj);
            
            var video_duration = video_obj.duration;
            var target_uri = getNextImageUri(image_obj,direction,arr_image);

            var arr_target = target_uri.split("\/");
            var file_name = arr_target[arr_target.length-1];
            var target_ext = file_name.split("\.");
            var target_slide_time = 5;

            if(target_ext[1] === "jpg" || target_ext[1] === "png"){

                target_image.attr("src",target_uri);  
                target_video.attr("src",target_uri);
                target_video.css("display","none");
                target_image.css("display","block");

            }else{

                target_video.attr("src",target_uri);
                target_image.attr("src",target_uri);  
                target_image.css("display","none");
                target_video.css("display","block");

            }

            
            init_timer_id = setTimeout(function(t){
                clearTimeout(img_timer_id); //타이머 클리어
                
                setInitSlide();
            },1500);           

        };

        //클릭으로 다음 컨텐츠 표출
        $(button_obj).on("click",function(e){

            var direction = $(this).data("direction");
            slideNextImage(direction);

        });

        function getNextImageUri(image_obj,direction,arr_image){

            var target = $(image_obj);

            var current_arr_src = target.attr("src").split("/");
            var ret_str = "";            

            for (var index = 0; index < arr_image.length; index++) {
                var target_arr_src = arr_image[index].split("/");
                
                if(current_arr_src[current_arr_src.length - 1] === target_arr_src[target_arr_src.length - 1]){ // 이미지 이름이 같으면
                    
                    if(direction === "left"){
                        if(index - 1 === -1){
                            ret_str = arr_image[arr_image.length - 1];
                        }else{
                            ret_str = arr_image[index - 1];
                        }
                    }else if(direction === "right"){
                        if(index  + 1 >= arr_image.length){
                            ret_str = arr_image[0];
                        }else{
                            ret_str = arr_image[index + 1];
                        }
                    }
                    
                    return ret_str;
                }
            }
        }
    }    
    //이미지 슬라이드 기능 끝
    

    //지도 드래그 기능 설정 시작
    function setMapDrag(json_obj){

        var map_width = json_obj.gl_map_width;
        var map_height = json_obj.gl_map_height;
        var map_image_obj = json_obj.map_image_obj;
        var map_stores_obj = json_obj.map_stores_obj;
        var map_div_obj = json_obj.map_div_obj;

        var first_moveTouchX; 
        var first_moveTouchY; 

        $(map_div_obj).bind('touchstart', function(e) {
            
            var event = e.originalEvent;    

            //전역 변수에 현재 클릭 위치에서 현재 이미지 left 위치, top 위치를 뺀 값을 저장
            first_moveTouchX = event.targetTouches[0].pageX - parseInt($(map_image_obj).css("left").replace("px","")); 
            first_moveTouchY = event.targetTouches[0].pageY - parseInt($(map_image_obj).css("top").replace("px","")); 

        });

        $(map_div_obj).bind('touchmove', function(e) {

            e.preventDefault();

            var event = e.originalEvent;    

            var moveTouchX = event.targetTouches[0].pageX; 
            var moveTouchY = event.targetTouches[0].pageY; 

            // 지도 드래그 상하좌우 제한
            /*
            if(moveTouchY - first_moveTouchY < -(map_width - 200) || moveTouchY - first_moveTouchY > 400){
                return;
            }
            if(moveTouchX - first_moveTouchX < -(map_height - 300) || moveTouchX - first_moveTouchX > 400){
                return;
            } 
            */       

            $(map_image_obj).css(

                //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                {top:moveTouchY - first_moveTouchY,
                left:moveTouchX - first_moveTouchX

            });

            $(map_stores_obj).css( // 상점들을 올려둔 DIV도 지도와 항상 같은 포지션으로 이동

                //터치를 시작한 x,y위치에서 드래그 하며 움직이는 x,y 값을 뺀 위치를 top,left 값으로 지정
                {top:moveTouchY - first_moveTouchY,
                left:moveTouchX - first_moveTouchX

            });

        });

        $(map_div_obj).bind('touchend', function(e) {

        });
        //지도 드래그 기능 설정 끝

    }

    function setHideAnotherFloorStore(target_floor){

        var tmp_stores = $('.map_store');

        for (var index = 0; index < tmp_stores.length; index++) {
            var element = tmp_stores[index];
            var tmp_floor = $(element).data("floor");
         
            if(target_floor === tmp_floor){       
                $(element).css("display","block");
            }else{
                $(element).css("display","none");
            }
        }
    }

    function getStoreList(){

         /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        var arr_data = [
                        {store_name:"상점1",store_id:"1",left:1039,top:872,font_size:"20",floor:"B1"},
                        {store_name:"상점2",store_id:"2",left:1489,top:744,font_size:"20",floor:"B1"},
                        {store_name:"상점3",store_id:"3",left:1291,top:227,font_size:"20",floor:"B1"},
                        {store_name:"상점4",store_id:"4",left:915,top:732,font_size:"20",floor:"B1"},
                        {store_name:"상점5",store_id:"5",left:916,top:563,font_size:"20",floor:"B1"},
                        {store_name:"상점6",store_id:"6",left:865,top:687,font_size:"20",floor:"B1"},
                        {store_name:"상점7",store_id:"7",left:1065,top:772,font_size:"20",floor:"B1"},
                        {store_name:"상점8",store_id:"8",left:535,top:954,font_size:"20",floor:"B1"},

                        {store_name:"상점9",store_id:"9",left:545,top:973,font_size:"20",floor:"B1"},
                        {store_name:"상점10",store_id:"10",left:1047,top:709,font_size:"20",floor:"B1"},
                        {store_name:"상점11",store_id:"11",left:1048,top:579,font_size:"20",floor:"B1"},
                        {store_name:"상점12",store_id:"12",left:377,top:534,font_size:"20",floor:"B1"},
                        {store_name:"상점13",store_id:"13",left:1065,top:677,font_size:"20",floor:"B1"},
                        {store_name:"상점14",store_id:"14",left:923,top:939,font_size:"20",floor:"B1"},
                        {store_name:"상점15",store_id:"15",left:923,top:921,font_size:"20",floor:"B1"},
                        {store_name:"상점16",store_id:"16",left:429,top:293,font_size:"20",floor:"B1"},
                        {store_name:"상점17",store_id:"17",left:247,top:432,font_size:"20",floor:"B1"},
                        {store_name:"상점18",store_id:"18",left:1064,top:771,font_size:"20",floor:"B1"},
                        {store_name:"상점19",store_id:"19",left:1064,top:771,font_size:"20",floor:"B1"},
                        {store_name:"상점20",store_id:"20",left:788,top:213,font_size:"20",floor:"B1"},
                        {store_name:"상점21",store_id:"21",left:1344,top:755,font_size:"20",floor:"B1"},
                        {store_name:"상점22",store_id:"22",left:865,top:562,font_size:"20",floor:"B1"},
                        {store_name:"상점23",store_id:"23",left:375,top:744,font_size:"20",floor:"B1"},
                        {store_name:"상점24",store_id:"24",left:375,top:744,font_size:"20",floor:"B1"},
                        {store_name:"상점25",store_id:"25",left:934,top:746,font_size:"20",floor:"B1"},
                        {store_name:"상점26",store_id:"26",left:932,top:748,font_size:"20",floor:"B1"},
                        {store_name:"상점27",store_id:"27",left:847,top:355,font_size:"20",floor:"B1"}
                        ];

        return arr_data;
    }

    //상점 지도에 그리는 기능 시작
    function setStoreDrawingToMap(){
       
        var arr_data = getStoreList();

        //현재 상점 지우기 
        var tmp_stores = $('.map_store');

        for (var index = 0; index < tmp_stores.length; index++) {
            var element = tmp_stores[index];
            $(element).remove();
        }

        //ajax로 받아온 상점 데이터 지도에 설정
        for (var index = 0; index < arr_data.length; index++) {
            var tmp_json = arr_data[index];
            
            var str_append = "<div class=\"map_store\" id=\"id_store_" + index + "\"";
                str_append += "data-floor=\"" + tmp_json.floor + "\"";
                str_append += "data-store_name=\"" + tmp_json.store_name + "\"";
                str_append += "data-store_id=\"" + tmp_json.store_id + "\"";
                str_append += "data-left=\"" + tmp_json.left + "\"";
                str_append += "data-top=\"" + tmp_json.top + "\"";
                str_append += ">";
                //str_append += tmp_json.store_name;
                str_append += "</div>";
            
            $('.map_stores').append(str_append);

            $('#id_store_' + index).css( 
/*
                {'font-size': parseInt(tmp_json.font_size),
                top:parseInt(tmp_json.top),
                left:parseInt(tmp_json.left)
  */  
                {'font-size': parseInt(tmp_json.font_size),
                top:parseInt(Math.round(tmp_json.top * gl_map_scale)),
                left:parseInt(Math.round(tmp_json.left * gl_map_scale))

            });
        }

        $('#id_map_image').css("width",Math.round(gl_map_width * gl_map_scale));
        $('#id_map_image').css("height",Math.round(gl_map_height * gl_map_scale));
        $('.map_stores').css("width",Math.round(gl_map_width * gl_map_scale));
        $('.map_stores').css("height",Math.round(gl_map_height * gl_map_scale));
       
        //setStorePopup();
    };
    //상점 지도에 그리는 기능 끝

    //상점 팝업 기능 설정 시작
    function setStorePopup(){

        //상점 클릭시 팝업 이벤트 설정
        var arr_stores = $('.map_store');
    
        for (index = 0; index < arr_stores.length; index++) {
            var element = arr_stores[index];
            
            $(element).on('click',function(e){      
                $('.store_popup').css( 

                    {display:"block",
                    top:parseInt($(element).css("top").replace("px","")),
                    left:parseInt($(element).css("left").replace("px",""))

                });
            });
        }
    }
    //상점 팝업 기능 설정 끝



    //키보드 검색 기능 시작
    function setKeyboard(json_obj){

        var gl_check_shift = "off";
        var gl_check_lang = "kor";
        
        var keyboard_key_obj = json_obj.keyboard_key_obj;
        var searchbar_text_obj = json_obj.searchbar_text_obj;
        var searchbar_icon_obj = json_obj.searchbar_icon_obj;
        var map_store_obj = json_obj.map_store_obj;
        var store_popup_obj = json_obj.store_popup_obj;
        var map_stores_obj = json_obj.map_stores_obj;
        var map_image_obj = json_obj.map_image_obj;
        var keyboard_obj = json_obj.keyboard_obj;
        var searchbar_obj = json_obj.searchbar_obj;
        var searchbar_close_obj = json_obj.searchbar_close_obj;

        function setClickKeyboardKey(){

            $(keyboard_key_obj).on('click',function(e){
                
                var tmp_word = getCurrentWord($(this));
                var final_text = getLastKeyboardText(tmp_word,$(searchbar_text_obj));
                $(searchbar_text_obj).text(Hangul.assemble(final_text));
                var arr_text = getTop10KeyWord(Hangul.assemble(final_text));
                setSerchbarPreviewList(arr_text);
                            
            });

        }
        setClickKeyboardKey();

        function getTop10KeyWord(target_text){
            var ret_arr;

             /*
            $.ajax({
                url : "frame_action_ajax.jsp",
                method : "GET",
                dataType : "text",
                data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
                success : function(data){
                    if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                        $group_id = $.trim(data);
                        console.log($group_id);
                        alert('Complete');
                        $('#id_intro_change').modal('hide');
                        $('.midDropper').each(function(){
                            if($(this).attr('group_id') == $g_id){
                                $(this).fadeOut();
                                $(this).next().fadeOut();
                                setKioskUpd($g_id,'');
                            }
                        });
                    }
                },
                error:function(e){
                    alert('Fail.');
                }
            });
            */

            if(target_text === ""){
                return ret_arr;
            }else if(target_text === "테"){
                ret_arr = [target_text,target_text,target_text,target_text,target_text,
                       target_text,target_text,target_text,target_text,target_text,
                       target_text,target_text,target_text,target_text,target_text
                      ];
            }else if(target_text === "테스"){
                ret_arr = [target_text,target_text,target_text,target_text,target_text,
                       target_text,target_text
                      ];
            }else if(target_text === "테스트"){
                ret_arr = [target_text,target_text,target_text,target_text
                      ];
            }else{
                ret_arr = [target_text
                      ];
            }

            return ret_arr;
        }

        function setSelectPreviewText(){
            $('.searchbar_preview_div').on('click',function(e){
                $(searchbar_text_obj).text($(this).text());
                $('.searchbar_preview').css("display","none");
                setSearchProduct($(this).text());
            });
        }
        
        function setSerchbarPreviewList(arr_text){

            var ret_str = "";
            if(arr_text === undefined || arr_text.length < 1){
                $('.searchbar_preview').css("display","none");
                return;
            }

            for (var index = 0; index < arr_text.length; index++) {
                ret_str += "<div class=\"searchbar_preview_div\">" + arr_text[index] + "</div>";   
            }
            $('.searchbar_preview').html(ret_str);
            $('.searchbar_preview').css("top",-(arr_text.length * 45) + "px");
            $('.searchbar_preview').css("height","auto");
            $('.searchbar_preview').css("display","block");
            setSelectPreviewText();
        }

        function getCurrentWord(obj){

            var tmp_word = "";

            if($(obj).data("eng") === "shift" || $(obj).data("eng") === "del" || $(obj).data("eng") === "change" || $(obj).data("eng") === "space"){
                tmp_word = $(obj).data("eng");
            }else{
                if(gl_check_lang === "eng"){
                    if(gl_check_shift === "off"){
                        tmp_word = $(obj).data("eng");
                    }else{
                        tmp_word = $(obj).data("eng-shift");
                    }
                }else{
                    if(gl_check_shift === "off"){
                        tmp_word = $(obj).data("kor");
                    }else{
                        tmp_word = $(obj).data("kor-shift");
                    }
                }
            }

            return tmp_word;

        }

        function getLastKeyboardText(word,obj){

            var check_str = $(obj).text();

            if(check_str === "검색어를 입력하세요"){
                $(searchbar_text_obj).text("");
                check_str = "";
            }

            if(word === "space"){

                check_str += " ";
                return check_str;

            }else if(word === "shift"){
                
                if(gl_check_shift === "off"){
                    gl_check_shift = "on";
                }else{
                    gl_check_shift = "off";
                }

                setChangeLangAndShiftText(obj);
                return check_str;

            }else if(word === "change"){
                
                if(gl_check_lang === "eng"){
                    gl_check_lang = "kor";
                }else{
                    gl_check_lang = "eng";
                }

                setChangeLangAndShiftText(obj);
                return check_str;

            }else if(word === "del"){

                var str_change_text = "";

                for (var index = 0; index < check_str.length - 1; index++) {
                    var element = check_str[index];
                    str_change_text += element;
                }

                return str_change_text;

            }else{

                var str_change_text = "";
                str_change_text = check_str + word;

                return str_change_text;
            }
        }

        //한영키,shift 누르면 텍스트 바꾸는 기능
        function setChangeLangAndShiftText(element){

            var arr_keys = $(keyboard_key_obj);

            for (var index = 0; index < arr_keys.length; index++) {
                var element = arr_keys[index];
                
                if($(element).data("eng") === "shift" || $(element).data("eng") === "del" || $(element).data("eng") === "change" || $(element).data("eng") === "space"){
                    continue;
                }

                if(gl_check_lang === "eng"){
                    if(gl_check_shift === "off"){
                        $(element).text($(element).data("eng"));
                    }else{
                        $(element).text($(element).data("eng-shift"));
                        
                    }
                }else{
                    if(gl_check_shift === "off"){
                        $(element).text($(element).data("kor"));
                    }else{
                        $(element).text($(element).data("kor-shift"));
                    }
                }
                
            }
            
        }

        //상품 검색 기능
        $(searchbar_icon_obj).on('click',function(e){
            var search_text = $(searchbar_text_obj).text();
            //setSearchProduct(search_text);
        });

        function setSearchProduct(search_text){
            

            var store_id = undefined;
            var floor = undefined;
            var map_url = undefined;

            /*
            $.ajax({
                url : "frame_action_ajax.jsp",
                method : "GET",
                dataType : "text",
                data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
                success : function(data){
                    if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                        $group_id = $.trim(data);
                        console.log($group_id);
                        alert('Complete');
                        $('#id_intro_change').modal('hide');
                        $('.midDropper').each(function(){
                            if($(this).attr('group_id') == $g_id){
                                $(this).fadeOut();
                                $(this).next().fadeOut();
                                setKioskUpd($g_id,'');
                            }
                        });
                    }
                },
                error:function(e){
                    alert('Fail.');
                }
            });
            */
     
            store_id = 2;
            floor = "B1";
            map_url = "./map/B1.png";
            
            if(store_id === undefined){
                return;
            }

            var map_store_obj = $('.map_store');
            var store_popup_obj = $('.store_popup');
            var map_stores_obj = $('.map_stores');
            var map_image_obj = $('#id_map_image');


            var movemap_objs = {
                                map_store_obj:map_store_obj,
                                store_popup_obj:store_popup_obj,
                                map_stores_obj:map_stores_obj,
                                map_image_obj:map_image_obj,
                                store_id:store_id,
                                floor:floor,
                                map_url:map_url
                                }
            
            moveMapToStore(movemap_objs);

            
            hideKeyboard();
        }

        $(searchbar_close_obj).on('click',function(e){
            hideKeyboard();
        });

        function hideKeyboard(){
            $(keyboard_obj).css("display","none");
            $(searchbar_obj).css("display","none");
        }

    }
    //키보드 검색 기능 끝  

    function setStorePopupPosition(top,left,sect){
        
        if(sect === "block"){
            $('.store_popup').css( 
                {display:"block",
                top:parseInt(top),
                left:parseInt(left)
            });
        }else{
            $('.store_popup').css( 
                {
                top:parseInt(top),
                left:parseInt(left)
            });
        }
    }

    function getKioskPopupPosition(kiosk_code){

        var ret_arr;

        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        if(kiosk_code === "K1"){
            ret_arr = [505,840];
        }else if(kiosk_code === "K2"){
            ret_arr = [1156,500];
        }
        return ret_arr;
    }

    //현재 키오스크 위치 설정
    function setKioskPopupPosition(kiosk_code){

        var arr_kiosk_pos = getKioskPopupPosition(kiosk_code);        
        
        $('.kiosk_popup').css( 
            {display:"block",
            top:parseInt(Math.round(arr_kiosk_pos[1] * gl_map_scale)),
            left:parseInt(Math.round(arr_kiosk_pos[0] * gl_map_scale))
        });

        var kiosk_popup = document.querySelector('.kiosk_popup');
        
        /*
        $('.kiosk_popup_text').css( 
            {display:"block",
            top:parseInt(top + 45),
            left:parseInt(left - 20)
        });
        */
    }

    //해당 상점으로 줌 이동 기능 시작
    function moveMapToStore(json_obj){

        var map_store_obj = json_obj.map_store_obj;
        var store_popup_obj = json_obj.store_popup_obj;
        var map_stores_obj = json_obj.map_stores_obj;
        var map_image_obj = json_obj.map_image_obj;
        var store_id = json_obj.store_id;
        var floor = json_obj.floor;
        var map_url = json_obj.map_url;

        var arr_stores = $(map_store_obj);

        for (index = 0; index < arr_stores.length; index++) {
            var element = arr_stores[index];

            if(store_id === $(element).data("store_id")){

                setStorePopupPosition(parseInt($(element).css("top").replace("px","")),parseInt($(element).css("left").replace("px","")),"block");
                
                var map_preview_div_width = parseInt($(map_stores_obj).css("width").replace("px",""));
                var map_preview_div_height = parseInt($(map_stores_obj).css("height").replace("px",""));

                var map_image_width = parseInt($(map_image_obj).css("width").replace("px",""));
                var map_image_height = parseInt($(map_image_obj).css("height").replace("px",""));
                
                // -(left위치-(맵프리뷰 WIDTH / 2))
                var map_left_value = -( parseInt($(element).css("left").replace("px","")) - (map_preview_div_width / 2) );
                // -(top위치-(맵프리뷰 HEIGHT / 2))
                var map_top_value = -( parseInt($(element).css("top").replace("px","")) - (map_preview_div_height / 2) );
                
                //테두리측 상점 좌표 제한
                if(map_left_value > 0){
                    map_left_value = 0;
                }
                if(map_top_value > 0){
                    map_top_value = 0;
                }

                if(map_left_value < -2000){
                    map_left_value = -(map_image_width - 900);
                }
                if(map_top_value < -2000){
                    map_top_value = -(map_image_height - 500);
                }
                
                $(map_image_obj).css(
                    {
                    top:map_top_value,
                    left:map_left_value
                });

                $(map_stores_obj).css( 
                    {
                    top:map_top_value,
                    left:map_left_value
                });
                
                

            }
        }
        setHideAnotherFloorStore(floor);
        setFloorButtonColor(floor);
        $(map_image_obj).attr("src",map_url);
        
    }
    //해당 상점으로 줌 이동 기능 끝

    //타겟 페이지 외 다른 페이지 숨김 
    function setHideNotUsePage(target_class_name){

        var arr_vertical_pages = $('.vertical_pages');

        for (var index = 0; index < arr_vertical_pages.length; index++) {

            var element = arr_vertical_pages[index];
            var tmp_class = $(element).hasClass(target_class_name);

            if(tmp_class){
                $(element).css("display","block");
            }else{
                $(element).css("display","none");
            }
        }

        if(target_class_name === "vertical_kiosk_screen" || target_class_name === "vertical_kiosk_navigation"){
            $('.right_navigation').css("display","none");
        }else{
            $('.right_navigation').css("display","block");
        }
        
    }

    

    function setScreenTouchTimer(timer_time){

        var screen_touch_timer_id;

        var vertical_kiosk_screen = $('.vertical_kiosk_screen');

        if($(vertical_kiosk_screen).css("display") === "block"){

            clearInterval(screen_touch_timer_id);

            screen_touch_timer_id = setInterval(function () {

                $('.touch_div').animate({
                    //top:100,
                    //left:200
                    fontSize: "30px"
                },timer_time,function(){
                    $('.touch_div').animate({
                    //top:50,
                    //left:50
                    fontSize: "20px"
                    },timer_time);
                });

            }, (timer_time + 100));    
        }else{
            clearInterval(screen_touch_timer_id);
        }
    }


    //ajax로 배너 이미지 데이터 받아오기
    function getBannerImageList(){

        var arr_banner_image = [];

        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        arr_banner_image = [
                            "./contents/banner/banner1.mp4",
                            "./contents/banner/banner2.mp4",
                            "./contents/banner/banner3.jpg",
                            "./contents/banner/banner4.jpg",
                            "./contents/banner/1_같이가요(가로).jpg",
                            "./contents/banner/2_같이가요(가로).jpg",
                            "./contents/banner/3_같이가요(가로).jpg",
                            "./contents/banner/M쿠폰.jpg"
                            ];

        return arr_banner_image;

    }

    //배너 이미지 슬라이드 기능 설정
    function setBannerImageList(){

        // 상단 광고 이미지 슬라이드 기능 시작
        var image_obj = $("#id_banner_image");
        var button_obj = $(".banner_image_btn");
        var video_obj = document.getElementById('id_banner_video');
        var slide_time = 5000;
        var arr_image = getBannerImageList();
        var image_div = $('.main_top_div');

        image_obj.attr("src",arr_image[0]);  

        var image_objs = {
                            image_obj:image_obj,
                            button_obj:button_obj,
                            video_obj:video_obj,
                            arr_image:arr_image,
                            slide_time:slide_time,
                            image_div:image_div
                        };
     
        setSlideImage(image_objs);
    
    }


    //ajax로 배너 이미지 데이터 받아오기
    function getBrandImageList(){

    var arr_banner_image = [];

        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        arr_banner_image = [
                            "./contents/banner/1_PB브랜드_룸바이홈(가로).jpg",
                            "./contents/banner/2_PB브랜드_온리프라이스(가로).jpg",
                            "./contents/banner/3_PB브랜드_초이스엘(가로).jpg",
                            "./contents/banner/4_PB브랜드_산지뚝심_가자미(가로).jpg",
                            "./contents/banner/5_PB브랜드_황금당도(가로).jpg",
                            "./contents/banner/6_PB브랜드_요리하다(가로).jpg",
                            "./contents/banner/7_PB브랜드_스위허그(가로).jpg",
                            "./contents/banner/8_PB브랜드_해빗(가로).jpg"
                            ];

        return arr_banner_image;

    }

    //ajax로 맵 데이터 받아오기 
    function getMapList(){

        var arr_map_image = [];
        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        arr_map_image = [
                        "./map/B1.png",
                        "./map/1F.png",
                        "./map/2F.png"];


        return arr_map_image;
    }


    //맵 줌 기능 설정 시작
    function setPinch(pinch_objs){

        var el = pinch_objs.map_div;

        var ham = new Hammer( el, {
            domEvents: true
        } );

        var width = pinch_objs.width;
        var height = pinch_objs.height;
        var left = pinch_objs.left;
        var top = pinch_objs.top;
        var arr_stores = pinch_objs.arr_stores;
        var store_popup_obj = pinch_objs.store_popup_obj;
        var map_div = pinch_objs.map_div;

        var target_scale = 1;
        var first_width;
        var first_height;

        var stores_div = el.childNodes[1];
        var img_div = el.childNodes[3];
        


        ham.get('pinch').set({ enable: true });

        
        ham.on( "pinchstart", function( e ) {

        });
        

        ham.on( "pinchin", function( e ) {

            //console.log("pinchin");
            //console.log(target_scale * width);

            target_scale = 1.01;
            var sect = "pinchin";

            //var ret_obj = setPinchMapZoom(el,arr_stores,target_scale,width,height,gl_map_height,gl_map_width,sect,e);

            width = ret_obj.width;
            height = ret_obj.height;
            left = ret_obj.left;
            top = ret_obj.top; 


        });

        ham.on( "pinchout", function( e ) {

            //console.log("pinchout");
            //console.log(target_scale * width);

            target_scale = 0.99;
            var sect = "pinchout";
            //var ret_obj = setPinchMapZoom(el,arr_stores,target_scale,width,height,gl_map_height,gl_map_width,sect,e);

            width = ret_obj.width;
            height = ret_obj.height;
            left = ret_obj.left;
            top = ret_obj.top; 
            
        });


        ham.on( "pinchend", function( e ) {
            
        });

        function setPinchMapZoom(el,arr_stores,scale,width,height,gl_map_height,gl_map_width,sect,event){

            var stores_div = el.childNodes[1];
            var img_div = el.childNodes[3];

            var total_width = width * scale;
            var total_height = height * scale;
            var ret_obj;

            if(scale * width <= (gl_map_width + 800) && scale * width >= (gl_map_width - 1000)){


/*
                $(img_div).css({
                '-webkit-transform' : 'scale(' + event.scale + ')',
                '-moz-transform'    : 'scale(' + event.scale + ')',
                '-ms-transform'     : 'scale(' + event.scale + ')',
                '-o-transform'      : 'scale(' + event.scale + ')',
                'transform'         : 'scale(' + event.scale + ')',
                '-webkit-transform-origin' : 'center center'
                });
*/
                
                var map_container_offset = $(el).offset();

                /*
                img_div.style.marginLeft = (img_div.style.left.replace("px","") - (event.center.x * scale)) + 'px';
                img_div.style.marginTop = (img_div.style.top.replace("px","") - (event.center.y * scale)) + 'px';
                img_div.style.marginLeft = 0 + 'px';
                img_div.style.marginTop  = 0 + 'px';
                */

               
               var image_final_left = Math.round(parseInt($(img_div).css('left').replace("px","")));
               var image_final_top = Math.round(parseInt($(img_div).css('top').replace("px","")));
               
               var current_pinch_x = event.center.x - map_container_offset.left;
               var current_pinch_y = event.center.y - map_container_offset.top;
               
               console.log("current_pinch_x:" +current_pinch_x);
               console.log("current_pinch_y:" +current_pinch_y);
               console.log("image_final_left:" +image_final_left);
               console.log("image_final_top:" +image_final_top);
               
               if(image_final_left >= 0){
                   image_final_left = current_pinch_x - (image_final_left);
                }else{
                    image_final_left = current_pinch_x - (image_final_left);
                }
                
                if(image_final_top >= 0){
                    image_final_top = current_pinch_y - (image_final_top);
                }else{
                    image_final_top = current_pinch_y - (image_final_top);
                }
                
                image_final_left = image_final_left;
                image_final_top = image_final_top;
                
                img_div.style.transform = "translate3d(" + total_width + "px, " + total_height + "px, 0) scale(" + scale + ")";
                console.log(image_final_left);
                console.log(image_final_top);
                
/*
                $(img_div).css( 

                    {

                    left:(image_final_left * scale) + "px",
                    top:(image_final_top * scale) + "px"

                });
*/
                //img_div.style.width = (total_width) + 'px';
                //img_div.style.height = (total_height) + 'px';

                for (var index = 0; index < arr_stores.length; index++) {
                    var element = arr_stores[index];

                    var tmp_top = Math.round(parseInt($(element).css('top').replace("px","")) * scale) + "px";
                    var tmp_left =  Math.round(parseInt($(element).css('left').replace("px","")) * scale) + "px";
                    var tmp_font_size;

                    if(sect ==="pinchin"){
                        tmp_font_size = parseInt($(element).css('font-size')) + scale;
                    }else{
                        tmp_font_size = parseInt($(element).css('font-size')) - scale;
                    }

                    if(tmp_font_size <= 14){
                        tmp_font_size = 14;
                    }

                    if(tmp_font_size >= 40){
                        tmp_font_size = 40;
                    }

                    $(element).css(

                        {'font-size': tmp_font_size,
                        top:tmp_top,
                        left:tmp_left

                    });

                }

                var store_popup_top = Math.round(parseInt($(store_popup_obj).css('top').replace("px","")) * scale) + "px";
                var store_popup_left =  Math.round(parseInt($(store_popup_obj).css('left').replace("px","")) * scale) + "px";
                var store_pop_width = Math.round(parseInt($(store_popup_obj).css('width').replace("px","")) * scale) + "px";;
                var store_pop_height = Math.round(parseInt($(store_popup_obj).css('height').replace("px","")) * scale) + "px";;;

                if(sect ==="pinchin"){
                    store_pop_width = parseInt($(store_popup_obj).css('width').replace("px","")) + scale;
                    store_pop_height = parseInt($(store_popup_obj).css('height').replace("px","")) + scale;
                }else{
                    store_pop_width = parseInt($(store_popup_obj).css('width').replace("px","")) - scale;
                    store_pop_height = parseInt($(store_popup_obj).css('height').replace("px","")) - scale;
                }

                if(store_pop_width <= 25){
                    store_pop_width = 25;
                }
                if(store_pop_height <= 55){
                    store_pop_height = 55;
                }

                if(store_pop_width <= 45){
                    store_pop_width = 45;
                }
                if(store_pop_height <= 75){
                    store_pop_height = 75;
                }

                store_pop_width += "px";
                store_pop_height += "px";

                $(store_popup_obj).css( 

                    {
                    top:store_popup_top,
                    left:store_popup_left

                });

                $(store_popup_obj).css("width",store_pop_width);
                $(store_popup_obj).css("height",store_pop_height);
                

                var map_preview_div_width = parseInt($(map_div).css("width").replace("px",""));
                var map_preview_div_height = parseInt($(map_div).css("height").replace("px",""));

                var center = event.center;
                //console.dir(event);

                var map_left_value;
                var map_top_value;

                //console.log(center.x);
                //console.dir( center.x -(parseInt($(img_div).css("left").replace("px",""))));
                //var test = -(center.x -(parseInt($(img_div).css("left").replace("px",""))));
                //var test = (parseInt($(img_div).css("left").replace("px",""))) - (width - total_width);
                //console.dir(-(center.x -(parseInt($(img_div).css("left").replace("px",""))) * scale));
                //console.dir(img_div.y);
                
                var diff_width = total_width - width;
                var diff_height = total_height - height; 
                //console.log( -(parseInt($(img_div).css("left").replace("px","")) + diff_width));
                
                if(sect ==="pinchin"){
                    // -(left위치-(맵프리뷰 WIDTH / 2))
                    //map_left_value =  (parseInt($(img_div).css("left").replace("px",""))) - (center.x); //+ ((total_width - width) * scale);
                    // -(top위치-(맵프리뷰 HEIGHT / 2))
                    //map_top_value =  (parseInt($(img_div).css("top").replace("px",""))) - (center.y);// + ((total_height - height) * scale);
                    //map_left_value = -(center.x + img_div.x * scale) / total_width;
                    //map_top_value = (center.y + img_div.y * scale) / total_height;
                    map_left_value = parseInt($(img_div).css("left").replace("px","")) + (diff_width * 1);
                    map_top_value = parseInt($(img_div).css("top").replace("px","")) + (diff_height * 1);
                }else{
                    // -(left위치-(맵프리뷰 WIDTH / 2))
                    //map_left_value =  (parseInt($(img_div).css("left").replace("px",""))) + (center.x);// + ((total_width - width) * scale);
                    // -(top위치-(맵프리뷰 HEIGHT / 2))
                    //map_top_value =  (parseInt($(img_div).css("top").replace("px",""))) + (center.y);// + ((total_height - height) * scale);
                    //map_left_value = -(center.x + img_div.x * scale) / total_width;
                    //map_top_value = (center.y + img_div.y * scale) / total_height;
                    map_left_value = parseInt($(img_div).css("left").replace("px","")) + (diff_width * 1);
                    map_top_value = parseInt($(img_div).css("top").replace("px","")) + (diff_height * 1);
                }
                //map_left_value = parseInt($(img_div).css("left").replace("px","")) + diff_width;
                //map_top_value = (center.y * scale);
                /*
                console.log(parseInt($(img_div).css("left").replace("px","")))
                console.log("1");
                console.log(diff_width);
                console.log("2");
                console.log(map_left_value);
                console.log("3");
                console.log($(img_div).css("left"));

                //console.log(parseInt($(img_div).css("left").replace("px","")))
                //console.log(map_top_value);

                //img_div.style.left = map_left_value + "px";

                $(img_div).css( 

                    {

                    left:map_left_value + "px",
                    top:map_top_value + "px"

                });
                console.log($(img_div).css("left"));
                */
             
        
                ret_obj = {
                    width:width * scale,
                    height:height * scale,
                    left:left * scale,
                    top:top * scale
                    };
            }else{

                ret_obj = {
                    width:width,
                    height:height,
                    left:left,
                    top:top
                    };
            }

            return ret_obj;
            
            
        }

    };

    function setClickMapZoom(pinch_objs){

        var el = pinch_objs.map_div;

        var left = pinch_objs.left;
        var top = pinch_objs.top;
        var arr_stores = pinch_objs.arr_stores;
        var store_popup_obj = pinch_objs.store_popup_obj;
        var kiosk_popup_obj = pinch_objs.kiosk_popup_obj;
        var map_div = pinch_objs.map_div;
        var target_btn = $(pinch_objs.target_btn);
        var sect = pinch_objs.sect;
        var store_id = pinch_objs.store_id;
        
        
        
        var stores_div = el.childNodes[1];
        var img_div = el.childNodes[3];
        
        $(target_btn).on('click',function(e){

            if(sect ==="plus"){
                scale = 1.1;
            }else if(sect === "minus"){
                scale = 0.9;
            }
            
            var width = parseInt($(img_div).css("width").replace("px",""));
            var height = parseInt($(img_div).css("height").replace("px",""));

            if(width === 0){
                width = pinch_objs.width;
            }

            if(height === 0){
                height = pinch_objs.height;
            }

            if(scale * width <= (gl_map_width + 800) && scale * width >= (gl_map_width - 1000)){

                $(img_div).css("width",Math.round((scale * width)) + 'px');
                $(img_div).css("height",Math.round((scale * height)) + 'px');

                //img_div.style.marginLeft = (img_div.style.left.replace("px","") - (event.center.x * scales)) + 'px';
                //img_div.style.marginTop = (img_div.style.top.replace("px","") - (event.center.y * scales)) + 'px';
                //img_div.style.marginLeft = 0 + 'px';
                //img_div.style.marginTop  = 0 + 'px';
                //console.log((img_div.style.left.replace("px","") - (total_width - width)));

                for (var index = 0; index < arr_stores.length; index++) {
                    var element = arr_stores[index];

                    var tmp_top = Math.round(parseInt($(element).css('top').replace("px","")) * scale) + "px";
                    var tmp_left =  Math.round(parseInt($(element).css('left').replace("px","")) * scale) + "px";
                    var tmp_font_size;
                    
                    if($(element).data("store_id") === store_id){
  
                        setStorePopupPosition(tmp_top,tmp_left,"");
          
                        //$(element).css("border","solid 3px red");
                        
                    }
                    

                    if(sect ==="plus"){
                        tmp_font_size = parseInt($(element).css('font-size')) + (scale + 1.5);
                    }else{
                        tmp_font_size = parseInt($(element).css('font-size')) - (scale + 1.5);
                    }
                
                    if(tmp_font_size <= 14){
                        tmp_font_size = 14;
                    }

                    if(tmp_font_size >= 40){
                        tmp_font_size = 40;
                    }

                    $(element).css( 

                        {'font-size': tmp_font_size,
                        top:tmp_top,
                        left:tmp_left

                    });

                }

                var store_popup_top = Math.round(parseInt($(store_popup_obj).css('top').replace("px","")) * scale) + "px";
                var store_popup_left =  Math.round(parseInt($(store_popup_obj).css('left').replace("px","")) * scale) + "px";
                var store_pop_width = Math.round(parseInt($(store_popup_obj).css('width').replace("px","")) * scale) + "px";;
                var store_pop_height = Math.round(parseInt($(store_popup_obj).css('height').replace("px","")) * scale) + "px";

                if(sect ==="plus"){
                    store_pop_width = parseInt($(store_popup_obj).css('width').replace("px","")) + (scale + 1);
                    store_pop_height = parseInt($(store_popup_obj).css('height').replace("px","")) + (scale + 1);
                }else{
                    store_pop_width = parseInt($(store_popup_obj).css('width').replace("px","")) - (scale + 1);
                    store_pop_height = parseInt($(store_popup_obj).css('height').replace("px","")) - (scale + 1);
                }

                if(store_pop_width <= 25){
                    store_pop_width = 25;
                }
                if(store_pop_height <= 50){
                    store_pop_height = 50;
                }

                if(store_pop_width >= 65){
                    store_pop_width = 65;
                }
                if(store_pop_height >= 80){
                    store_pop_height = 80;
                }

                store_pop_width += "px";
                store_pop_height += "px";

                /*
                $(store_popup_obj).css( 

                    {
                    top:store_popup_top,
                    left:store_popup_left

                });

                $(store_popup_obj).css("width",store_pop_width);
                $(store_popup_obj).css("height",store_pop_height);
                */

                var kiosk_popup_top = Math.round(parseInt($(kiosk_popup_obj).css('top').replace("px","")) * scale) + "px";
                var kiosk_popup_left =  Math.round(parseInt($(kiosk_popup_obj).css('left').replace("px","")) * scale) + "px";
                var kiosk_pop_width = Math.round(parseInt($(kiosk_popup_obj).css('width').replace("px","")) * scale) + "px";;
                var kiosk_pop_height = Math.round(parseInt($(kiosk_popup_obj).css('height').replace("px","")) * scale) + "px";

                if(sect ==="plus"){
                    kiosk_pop_width = parseInt($(kiosk_popup_obj).css('width').replace("px","")) + (scale + 1);
                    kiosk_pop_height = parseInt($(kiosk_popup_obj).css('height').replace("px","")) + (scale + 1);
                }else{
                    kiosk_pop_width = parseInt($(kiosk_popup_obj).css('width').replace("px","")) - (scale + 1);
                    kiosk_pop_height = parseInt($(kiosk_popup_obj).css('height').replace("px","")) - (scale + 1);
                }

                if(kiosk_pop_width <= 34){
                    kiosk_pop_width = 34;
                }
                if(kiosk_pop_height <= 53){
                    kiosk_pop_height = 53;
                }

                if(kiosk_pop_width >= 65){
                    kiosk_pop_width = 65;
                }
                if(kiosk_pop_height >= 80){
                    kiosk_pop_height = 80;
                }

                kiosk_pop_width += "px";
                kiosk_pop_height += "px";

                $(kiosk_popup_obj).css( 

                    {
                    top:kiosk_popup_top,
                    left:kiosk_popup_left

                });

                $(kiosk_popup_obj).css("width",kiosk_pop_width);
                $(kiosk_popup_obj).css("height",kiosk_pop_height);


                var map_preview_div_width = parseInt($(map_div).css("width").replace("px",""));
                var map_preview_div_height = parseInt($(map_div).css("height").replace("px",""));

                var center = event.center;

                var map_left_value;
                var map_top_value;        

            }
        })        
    }
    //맵 줌 기능 설정 끝

    //네비게이션 페이지 이동 기능 시작
    function setNavMenuBtnMove(json_obj){
        var arr_icon = json_obj.arr_icon;

        for (var index = 0; index < arr_icon.length; index++) {
            var element = arr_icon[index];
        
            $(element).on("click",function(e){
                
                var menu = $(this).data("menu");
                if(menu === "main"){
                    document.location.href = "vertical_kiosk_main.html?page=main" + "&kiosk_code=" + gl_kiosk_code;
                    return;
                }

                setPageMenu(menu);

            });            
        }

    }

    function setPageMenu(menu){

        if(menu === "main"){
            setHideNotUsePage('vertical_kiosk_main');
            $('.main_bot_brand').css("display","none");
            $('.main_bot_div').css("display","block");
            setRightNavColor($('#id_nav_right_btn_main'));
            $('.main_bg').css("display","none");
            $('.banner_image').css("display","");
            $('.brand_image').css("display","none");
        }else if(menu === "event"){
            setHideNotUsePage('vertical_kiosk_event');
            setRightNavColor($('#id_nav_right_btn_event'));
            $('.store_popup').css("display","none");
        }else if(menu === "brand"){
            setHideNotUsePage('vertical_kiosk_main');
            $('.main_bot_brand').css("display","block");
            $('.main_bot_div').css("display","none");
            setRightNavColor($('#id_nav_right_btn_brand'));
            $('.store_popup').css("display","none");
            $('.brand_image').css("display","");
            $('.banner_image').css("display","none");
        }else if(menu === "coupon"){
            setHideNotUsePage('vertical_kiosk_coupon');
            setRightNavColor($('#id_nav_right_btn_coupon'));
            $('.store_popup').css("display","none");
        }else if(menu === "screen"){
            setHideNotUsePage('vertical_kiosk_screen');
            document.location.href = "vertical_kiosk_screen.html";
            $('.store_popup').css("display","none");
        }else if(menu === "navigation"){
            setHideNotUsePage('vertical_kiosk_navigation');
            $('.store_popup').css("display","none");
        }
    }
    //네비게이션 페이지 이동 기능 끝

    //이벤트 페이지 시작

    //이벤트 팝업 설정
    function setPopupEvent(json_objs){

        var arr_event_button = json_objs.arr_event_button;

        for (var index = 0; index < arr_event_button.length; index++) {
            var element = arr_event_button[index];
            
            $(element).on('click',function(e){       

                var data = $(this).parent().parent().data();

                setInitImageButtonColor(arr_event_button);

                //var tmp_information = data.text_information;
                var tmp_information = "";
                var str_point = "";

                tmp_information += "기간 : ";
                //tmp_information += data.start_date;
                //tmp_information += " ~ ";
                tmp_information += data.end_date;
                tmp_information += "<br>";
                tmp_information += data.text_information;

                if(data.point_sect === "normal"){
                    str_point = "행사가";
                }else if(data.point_sect === "point"){
                    str_point = "비회원가 / L.POINT 회원가";
                }
                
                $('.event_popup_top_image').attr("src",data.img_url);
                $('.event_popup_middle_title').html(data.event_name);
                $('.event_popup_middle_price_special_text').text(str_point);
                $('.event_popup_middle_price_normal_number').text(data.normal_price);
                $('.event_popup_middle_price_special_number').text(data.event_price);
                //$('.event_popup_middle_information_text').html(tmp_information);
                $('.event_popup_bot').data("store_id",data.store_id);
                $('.event_popup_bot').data("floor",data.floor);
                $('.event_popup_bot').data("map_url",data.map_url);
                $('.event_popup_bot').data("event_id",data.event_id);

                $('.event_popup_middle_price_normal_number').css("display","none");
                $('.event_popup_middle_price_normal_text').css("display","none");

                $('.vertical_kiosk_event_popup').css( 
                    {display:"block"
                });

                $(this).data("menu","on");
                setChangeImageButtonColor(arr_event_button,"on");
                //setInitImageButtonColor(arr_event_button);

            });
        }
    }

    //이벤트 상점 위치 찾기 설정

    function setEventPopMoveToStore(store_id,floor,map_url){

        //메인 화면 돌아가기
        setHideNotUsePage('vertical_kiosk_main');

        var map_store_obj = $('.map_store');
        var store_popup_obj = $('.store_popup');
        var map_stores_obj = $('.map_stores');
        var map_image_obj = $('#id_map_image');


        var movemap_objs = {
                            map_store_obj:map_store_obj,
                            store_popup_obj:store_popup_obj,
                            map_stores_obj:map_stores_obj,
                            map_image_obj:map_image_obj,
                            store_id:store_id,
                            floor:floor,
                            map_url:map_url
                            }

        $('.vertical_kiosk_event_popup').css( 
            {display:"none"
        });

        $('.main_bot_brand').css("display","none");
        $('.main_bot_div').css("display","block");

        moveMapToStore(movemap_objs);

        //네비게이션 메인으로 이동
        var main_icon = $('#id_nav_right_btn_main');
        setHideNotUsePage('vertical_kiosk_main');
        setRightNavColor($(main_icon));

    }
    

    function getEventList(){

        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        var arr_data = [
                        {event_name:"제주 GAP 하우스 감귤(1.2kg/1팩/국산)",event_id:"1",event_price:"9,980",img_url:"./contents/product/detail_01.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"1",floor:"B1",map_url:"./map/B1.png",text_information:"※점별 운영상품 상이 ※조기 품절될 수 있습니다",point_sect:"normal"},
                        {event_name:"미국산 소 척아이롤(100g/냉장)",event_id:"2",event_price:"1,750",img_url:"./contents/product/detail_02.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"2",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"point"},
                        {event_name:"통큰치킨 (1마리, 계육: 냉장/국내산)",event_id:"3",event_price:"5,000",img_url:"./contents/product/detail_03.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"3",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"},
                        {event_name:"씨제이 비비고 군교자 2종(고기 360g*2/해물파전 315g*2)",event_id:"4",event_price:"8,480",img_url:"./contents/product/detail_04.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"4",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"},
                        {event_name:"롯데푸드 리퀴진 미니돈까스(380g)",event_id:"5",event_price:"4,980",img_url:"./contents/product/detail_05.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"5",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"},
                        {event_name:"씨제이 고메 핫도그 2종(480g/425g)",event_id:"6",event_price:"6,980",img_url:"./contents/product/detail_06.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"6",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"},
                        {event_name:"온리프라이스 우유(930ml*2)",event_id:"7",event_price:"3,000",img_url:"./contents/product/detail_07.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"7",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"},
                        {event_name:"잘풀리는집 더도톰한 3겹 화장지(30m*30롤)",event_id:"8",event_price:"13,900",img_url:"./contents/product/detail_08.jpg",normal_price:"1,153.300원",special_price:"1,152.200",start_date:"2019.06.19",end_date:"2019.10.1(화)까지",store_id:"8",floor:"B1",map_url:"./map/B1.png",text_information:"",point_sect:"normal"}
						
                        ];

        return arr_data;

    }

    function setEventList(arr_data){

        var arr_data = getEventList();


        //현재 리스트 초기화 
        var tmp_list = $('.middle_event_product');

        for (var index = 0; index < tmp_list.length; index++) {
            var element = tmp_list[index];

            $(element).remove();
            
        }

        //ajax로 받아온 이벤트 데이터 설정
        for (var index = 0; index < arr_data.length; index++) {
            var tmp_json = arr_data[index];
            
            var str_append = "<div class=\"middle_event_product\" id=\"id_event_" + index + "\"";
                str_append += "data-event_name=\"" + tmp_json.event_name + "\"";
                str_append += "data-event_id=\"" + tmp_json.event_id + "\"";
                str_append += "data-event_price=\"" + tmp_json.event_price + "\"";
                str_append += "data-normal_price=\"" + tmp_json.normal_price + "\"";
                str_append += "data-special_price=\"" + tmp_json.special_price + "\"";
                str_append += "data-img_url=\"" + tmp_json.img_url + "\"";
                str_append += "data-map_url=\"" + tmp_json.map_url + "\"";
                str_append += "data-store_id=\"" + tmp_json.store_id + "\"";
                str_append += "data-floor=\"" + tmp_json.floor + "\"";
                str_append += "data-text_information=\"" + tmp_json.text_information + "\"";
                str_append += "data-point_sect=\"" + tmp_json.point_sect + "\"";
                str_append += "data-start_date=\"" + tmp_json.start_date + "\"";
                str_append += "data-end_date=\"" + tmp_json.end_date + "\">";
                

                str_append += "  <img class=\"middle_event_product_left\" src=\"./contents/product/detail_0" + (index + 1) + ".jpg\"/>";
                str_append += "  <div class=\"middle_event_product_right\">";
                str_append += "    <div class=\"middle_event_product_right_top\">";
                str_append += "      " + tmp_json.event_name;
                str_append += "    </div>";
                str_append += "    <div class=\"middle_event_product_right_middle\">";
                str_append += "      <div class=\"middle_event_product_right_middle_number\">" + tmp_json.event_price + "</div>";
                str_append += "      <div class=\"middle_event_product_right_middle_text\">원</div>";
                str_append += "    </div>";
                str_append += "    <img class=\"middle_event_product_right_bot\" src=\"./image/product_bt_wayfinding.png\"/>";
                str_append += "  <div>";

                str_append += "</div>";
            
            $('.middle_event').append(str_append);
        }
    }

    $('.event_popup_close').on('click',function(e){
        $('.vertical_kiosk_event_popup').css("display","none");
        var arr_event_button = $('.middle_event_product_right_bot');
        setInitImageButtonColor(arr_event_button);
    })
    //이벤트 페이지 끝

    //브랜드 페이지 시작
    function getBrandList(){

        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */

        var arr_data = [
                        {brand_id:1,img_url:"./contents/brand/brand_bt_thum_01.png"},
                        {brand_id:2,img_url:"./contents/brand/brand_bt_thum_02.png"},
                        {brand_id:3,img_url:"./contents/brand/brand_bt_thum_03.png"},
                        {brand_id:4,img_url:"./contents/brand/brand_bt_thum_04.png"},
                        {brand_id:5,img_url:"./contents/brand/brand_bt_thum_05.png"},
                        {brand_id:6,img_url:"./contents/brand/brand_bt_thum_06.png"},
                        {brand_id:7,img_url:"./contents/brand/brand_bt_thum_07.png"},
                        {brand_id:8,img_url:"./contents/brand/brand_bt_thum_08.png"}
                        ];

        return arr_data;


    }

    function setBrandList(arr_data){

        var arr_data = getBrandList();


        //현재 리스트 초기화 
        var tmp_list = $('.main_bot_brand_list_brand');

        for (var index = 0; index < tmp_list.length; index++) {
            var element = tmp_list[index];

            $(element).remove();
            
        }

        //ajax로 받아온 브랜드 데이터 설정
        for (var index = 0; index < arr_data.length; index++) {
            var tmp_json = arr_data[index];
            
            var str_append = "<img class=\"main_bot_brand_list_brand\" id=\"id_brand_" + index + "\"";
                str_append += "data-brand_id=\"" + tmp_json.brand_id + "\"";
                str_append += "src=\"" + tmp_json.img_url + "\" />";
                
            
            $('.main_bot_brand_list').append(str_append);
            
        }
    }

    function setMoveBrandInfoPage(){
        $('.main_bot_brand_list_brand').on('click',function(e){
            //var arr_img_url = $(this).data("main_img").split("\,");
            var brand_id = $(this).data("brand_id");

            //console.log(arr_img_url);
            //setBrandImageList(arr_img_url);

            //$('.vertical_kiosk_brand_img').attr("src",img_url);
            setHideNotUsePage('vertical_kiosk_brand');
            document.location.href = "vertical_kiosk_brand.html?brand_id=" + brand_id + "&kiosk_code=" + gl_kiosk_code + "";

        })
    };

    function setMoveBrandListPage(){
        $('#id_brand_menu_back_btn').on('click',function(e){

            setHideNotUsePage('vertical_kiosk_main');

        })
    };

    function setBrandPopup(json_objs){

        var arr_brand_button = json_objs.arr_brand_button;

        for (var index = 0; index < arr_brand_button.length; index++) {
            var element = arr_brand_button[index];

            $(element).on('click',function(e){       
                //var data = $(this).parent().parent().data();

                $('.vertical_kiosk_brand_popup').css( 
                    {display:"block"
                });

            });
        }
    };

    $('.brand_popup_close').on('click',function(e){
        $('.vertical_kiosk_brand_popup').css("display","none");
    })

    //브랜드 이미지 슬라이드 기능 설정
    function setBrandImageList(arr_image){

        // 브랜드 이미지 슬라이드 기능 시작
        var image_obj = $("#id_brand_image");
        var button_obj = $(".brand_image_btn");
        var video_obj = document.getElementById('id_brand_video');
        var slide_time = 5000;
        var arr_image = getBrandImageList();
        var image_div = $('.main_top_div');

        image_obj.attr("src",arr_image[0]);  

        var image_objs = {
                            image_obj:image_obj,
                            button_obj:button_obj,
                            video_obj:video_obj,
                            arr_image:arr_image,
                            slide_time:slide_time,
                            image_div:image_div
                        };

        setSlideImage(image_objs);

    }
    
    //브랜드 페이지 끝
    

    /* 페이지 별 초기화 시작 */
    function setInitMain(){

        //시계 기능 시작
        //showClock();

        //지도 초기화
        setInitMap();

        //지도 데이터 가져온 후 버튼 설정
        var map_img = $('#id_map_image');
        setFloorButton(gl_arr_map_image,map_img,gl_kiosk_floor);

        //데이터 받아 온 후 메인 슬라이드 이미지 기능 시작
        setBannerImageList();

        //데이터 받아 온 후 브랜드 슬라이드 이미지 기능 시작
        setBrandImageList();

        //지도 드래그 기능 설정 시작
        var map_image_obj = $('#id_map_image');
        var map_stores_obj = $('.map_stores');
        var map_div_obj = $('.map');

        var image_objs = {
                            map_div_obj:map_div_obj,
                            map_image_obj:map_image_obj,
                            map_stores_obj:map_stores_obj,
                            gl_map_width:gl_map_width,
                            gl_map_height:gl_map_height
                        };

        setMapDrag(image_objs);
        
        //상점 지도에 그리는 기능 시작
        setStoreDrawingToMap();
        //키오스크 현재 위치 설정
        setKioskPopupPosition(gl_kiosk_code);
        

        //지도에 그린 상점 중 해당 층이 아닌 상점 숨기기
        setHideAnotherFloorStore(gl_kiosk_floor);

        //키보드 검색 기능 시작
        var keyboard_key_obj = $('.keyboard_key');
        var searchbar_text_obj = $('.searchbar_text');
        var searchbar_icon_obj = $('.searchbar_icon');
        var map_store_obj = $('.map_store');
        var store_popup_obj = $('.store_popup');
        var map_stores_obj = $('.map_stores');
        var map_image_obj = $('#id_map_image');
        var keyboard_obj = $('.keyboard');
        var searchbar_obj = $('.searchbar');
        var searchbar_close_obj = $('.searchbar_close');

        var keyboard_objs = {
                            keyboard_key_obj:keyboard_key_obj,
                            searchbar_text_obj:searchbar_text_obj,
                            searchbar_icon_obj:searchbar_icon_obj,
                            map_store_obj:map_store_obj,
                            store_popup_obj:store_popup_obj,
                            map_stores_obj:map_stores_obj,
                            map_image_obj:map_image_obj,
                            keyboard_obj:keyboard_obj,
                            searchbar_obj:searchbar_obj,
                            searchbar_close_obj:searchbar_close_obj
                            }

        setKeyboard(keyboard_objs);

        //맵 줌 기능 설정
        var map_div = document.querySelector(".map");
        var arr_stores = document.querySelectorAll('.map_store');
        var store_popup_obj = $('.store_popup');
    
        var pinch_objs = {
                        map_div:map_div,
                        width:gl_map_width,
                        height:gl_map_height,
                        left:0,
                        top:0,
                        arr_stores:arr_stores,
                        store_popup_obj:store_popup_obj
                        };

        //setPinch(pinch_objs);        

        //맵 줌 기능 설정
        map_div = document.querySelector(".map");
        arr_stores = document.querySelectorAll('.map_store');
        store_popup_obj = $('.store_popup');
        var target_btn = $('.map_zoom_plus');
        var store_id = parseInt(getQuerystring('store_id'));
        var kiosk_popup_obj = $('.kiosk_popup');
        
        var click_objs = {
            map_div:map_div,
            width:gl_map_width,
            height:gl_map_height,
            left:0,
                        top:0,
                        arr_stores:arr_stores,
                        store_popup_obj:store_popup_obj,
                        kiosk_popup_obj:kiosk_popup_obj,
                        target_btn:target_btn,
                        sect:"plus",
                        store_id:store_id
                    };
                    
        setClickMapZoom(click_objs);     
        
        target_btn = $('.map_zoom_minus');

        click_objs = {
                        map_div:map_div,
                        width:gl_map_width,
                        height:gl_map_height,
                        left:0,
                        top:0,
                        arr_stores:arr_stores,
                        store_popup_obj:store_popup_obj,
                        kiosk_popup_obj:kiosk_popup_obj,
                        target_btn:target_btn,
                        sect:"minus",
                        store_id:store_id
                        };                        

        setClickMapZoom(click_objs);     
        
        //줌 버튼 터치시 색상 변경 설정
        var arr_zoom_btn = $('.map_zoom_btn');
        setChangeImageButtonColor(arr_zoom_btn,"on");

        
        $('.map_zoom_btn').on('touchstart',function(e){
            
            $(this).data("menu","on");
            setChangeImageButtonColor(arr_zoom_btn,"on")
            
        });
        
        $('.map_zoom_btn').on('touchend',function(e){
            
            setInitImageButtonColor(arr_zoom_btn);
            
        })
        
        //광고 좌,우 버튼 터치시 색상 변경 설정
        var arr_banner_btn = $('.banner_image_btn');
        setChangeImageButtonColor(arr_banner_btn,"on");

        $('.banner_image_btn').on('touchstart',function(e){
            $(this).data("menu","on");
            setChangeImageButtonColor(arr_banner_btn,"on");
        });
        
        $('.banner_image_btn').on('touchend',function(e){
            setInitImageButtonColor(arr_banner_btn);
        })

        //광고 좌,우 버튼 터치시 색상 변경 설정
        var arr_brand_btn = $('.brand_image_btn');
        setChangeImageButtonColor(arr_brand_btn,"on");

        $('.brand_image_btn').on('touchstart',function(e){
            $(this).data("menu","on");
            setChangeImageButtonColor(arr_brand_btn,"on");
        });
        
        $('.brand_image_btn').on('touchend',function(e){
            setInitImageButtonColor(arr_brand_btn);
        })
        
        //메인 뒤로 돌아가기 버튼 터치시 색상 변경 설정
        var arr_main_pre_btn = $('.main_pre_btn');
        setChangeImageButtonColor(arr_main_pre_btn,"on");
        
        $('.main_pre_btn').on('touchstart',function(e){
            $(this).data("menu","on");
            setChangeImageButtonColor(arr_main_pre_btn,"on");
        });
        
        $('.main_pre_btn').on('touchend',function(e){
            setInitImageButtonColor(arr_main_pre_btn);

            var event_id = getQuerystring('event_id');
            var brand_id = getQuerystring('brand_id');
            var pre_page = getQuerystring('pre_page');
            var brand_pop_number = getQuerystring('brand_pop_number');

            if(pre_page === "event"){
                if(event_id !== ""){
                    reloadEventPage(event_id);
                }
            }else if(pre_page === "brand"){
                if(brand_id !== ""){
                    reloadBrandPage(brand_id,brand_pop_number);
                }
            }
        })


        //브랜드 팝업 페이지 설정
        var arr_floor_button = $(".all_floor_btn");
    
        var json_objs = {
                        arr_floor_button:arr_floor_button
                        };

        setAllFloorPopup(json_objs);   
        
        //메뉴 이동 버튼 클릭시 통계 보내는 기능 설정
        setSendStatis();

    }

    function setInitScreen(){

        //스크린세이버 터치 문구 애니메이션 효과 
        //var timer_time = 3000;
        //setScreenTouchTimer(timer_time);

        //데이터 받아 온 후 슬라이드 이미지 기능 시작
        //setScreenImageList();

    }

    function setInitNavigation(){

    }

    function setInitBrand(){
        //브랜드 리스트 설정
        setBrandList();

        //브랜드 상세 페이지 이동 설정
        setMoveBrandInfoPage();

        //브랜드 상세 페이지에서 브랜드 리스트로 가는 설정
        setMoveBrandListPage();

        //브랜드 팝업 페이지 설정
        var arr_brand_button = $("#id_brand_menu_pop_btn");
    
        var json_objs = {
                        arr_brand_button:arr_brand_button
                        };

        setBrandPopup(json_objs);     
    }

    function setInitEvent(){

        //이벤트 리스트 설정
        setEventList();

        //팝업 이벤트 설정 시작
        var arr_event_button = $(".middle_event_product_right_bot");
    
        var json_objs = {
                        arr_event_button:arr_event_button
                        };

        setPopupEvent(json_objs);       
        
        //이벤트 상품 길찾기 설정
        $('.event_popup_bot').on('click',function(e){
            var store_id = $(this).data("store_id");
            var floor = $(this).data("floor");
            var map_url = $(this).data("map_url");
            var event_id = $(this).data("event_id");

            reloadMainPage(store_id,"event",event_id);
            setEventPopMoveToStore(store_id,floor,map_url);

        })
    }

    function setInit(){

        //네비게이션 메뉴 이동 기능 설정
        var arr_icon = $('.nav_move_btn');

        var json_obj = {
                        arr_icon:arr_icon,
                        };

        setNavMenuBtnMove(json_obj);
        setInitMain();
        setInitScreen();
        setInitNavigation();
        setInitEvent();
        setInitBrand();
        //setInitCoupon();
        
        //파라미터로 받은 페이지 설정 값으로 첫 페이지 설정
        setFirstPage();

    }
    setInit();

    /* 페이지 별 초기화 끝 */

    function setFirstPage(){

        //파라미터 받으면 해당 페이지를 첫페이지로 사용
        var first_page = getQuerystring('page');
        var store_id = parseInt(getQuerystring('store_id'));

        var event_id = getQuerystring('event_id');
        var brand_id = getQuerystring('brand_id');
        
        //상점 아이디가 있다면 상점 검색 후 지도 이동
        if(store_id !== ""){
            
            var tmp_json = getSearchStoreInfo(store_id);
            
            var floor = tmp_json.floor;
            var map_url = tmp_json.map_url;
            
            setEventPopMoveToStore(store_id,floor,map_url);
            
        }
        
        if(first_page === ""){
            first_page = "navigation";
        }

        if(event_id !== "" || brand_id !== ""){
            $('.main_pre_btn').css("display","block");
        }else{
            $('.main_pre_btn').css("display","none");
        }
        
        setPageMenu(first_page);
        
    }

    function reloadMainPage(store_id,pre_page,event_id){
        document.location.href = "vertical_kiosk_main.html?page=" + "main" + "&store_id=" + store_id + "&kiosk_code=" + gl_kiosk_code + "&pre_page=" + "event" + "&event_id=" + event_id + "";
    }

    function reloadEventPage(event_id){
        document.location.href = "vertical_kiosk_main.html?page=" + "event" + "&kiosk_code=" + gl_kiosk_code + "&event_id=" + event_id + "";
    }

    function reloadBrandPage(brand_id,brand_pop_number){
        document.location.href = "vertical_kiosk_brand.html?" + "kiosk_code=" + gl_kiosk_code + "&brand_id=" + brand_id + "&popup=" + "on" + "&brand_pop_number=" + brand_pop_number + "";
    }

    function getSearchStoreInfo(store_id){
        /*
        $.ajax({
            url : "frame_action_ajax.jsp",
            method : "GET",
            dataType : "text",
            data : {'mode':'DELETE_GROUP','intro_group_name':$va,'group_id':$g_id},
            success : function(data){
                if($.trim(data)!= '' && $.trim(data) != 'FAIL'){
                    $group_id = $.trim(data);
                    console.log($group_id);
                    alert('Complete');
                    $('#id_intro_change').modal('hide');
                    $('.midDropper').each(function(){
                        if($(this).attr('group_id') == $g_id){
                            $(this).fadeOut();
                            $(this).next().fadeOut();
                            setKioskUpd($g_id,'');
                        }
                    });
                }
            },
            error:function(e){
                alert('Fail.');
            }
        });
        */
       

        var tmp_json = {floor:"2F",map_url:"./map/B1.png"};
        
        var floor = "B1";
        var map_url = "./map/B1.png";

        return {floor:floor,map_url:map_url};
    }

    //$(".cover_loading_main").fadeOut(500);

    //키오스크 터치 타이머 설정 터치 없을시 30초후 스크린세이버로 이동
    $('body').on('click',function(e){
        gl_kiosk_touch_time = 3000000000;
        clearInterval(gl_kiosk_touch_timer_id);
        gl_kiosk_touch_timer_id = setInterval(function() {
                                    setCheckScreenTimer();
                                  }, 1000);
    })

    function setCheckScreenTimer(){

        if(gl_kiosk_touch_time <= 1){
            if(gl_kiosk_code !== ""){
                document.location.href = "vertical_kiosk_screen.html?kiosk_code=" + gl_kiosk_code + "";
            }else{
                document.location.href = "vertical_kiosk_screen.html?kiosk_code=" + "K1" + "";
            }
        }
        gl_kiosk_touch_time = gl_kiosk_touch_time - 1;
        
    }

    gl_kiosk_touch_timer_id = setInterval(function() {
                                setCheckScreenTimer();
                              }, 1000);

    

    //PINCH 줌 확대,축소 설정 시작
    var map_image = document.querySelector("#id_map_image");
    var map_stores = document.querySelector(".map_stores");
    var floor_btn = document.querySelector(".floor_btn");
    var kiosk_popup = document.querySelector(".kiosk_popup");
    var store_popup = document.querySelector(".store_popup");

    var pinch_objs = {
                      map_image:map_image,
                      map_stores:map_stores,
                      floor_btn:floor_btn,
                      kiosk_popup:kiosk_popup,
                      store_popup:store_popup
                     }
    //setNewMapPinchZoom(pinch_objs);

    function setNewMapPinchZoom(json){

        var map_image = json.map_image;
        var map_stores = json.map_stores;

        var hammer = new Hammer(map_stores, {});

        hammer.get('pinch').set({ enable: true });
        hammer.get('pan').set({ threshold: 0 });

        var pinchStart = { x: undefined, y: undefined }
        
        var originalSize = {
            width: gl_map_width * gl_map_scale,
            height: gl_map_height * gl_map_scale
        }

        var current = {
            x: 0,
            y: 0,
            z: 1,
            zooming: false,
            width: originalSize.width * 1,
            height: originalSize.height * 1,
        }

        var last = {
            x: current.x,
            y: current.y,
            z: current.z
        }

        function getRelativePosition(element, point, originalSize, scale) {
            var domCoords = getCoords(element); //절대 좌표 반환 값

            var elementX = point.x - domCoords.x; // 현재 핀치 하고 있는 손가락 위치의 가운데 X 좌표
            var elementY = point.y - domCoords.y; // 현재 핀치 하고 있는 손가락 위치의 가운데 Y 좌표

            var relativeX = elementX / (originalSize.width * scale / 2) - 1;
            var relativeY = elementY / (originalSize.height * scale / 2) - 1;

            return { x: relativeX, y: relativeY } // 현재 핀치 위치와 스케일을 계산한 값의 비율 반환
        }

        function getCoords(elem) { // crossbrowser version
            var box = elem.getBoundingClientRect();

            var body = document.body;
            var docEl = document.documentElement;

            var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;
            var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;

            var clientTop = docEl.clientTop || body.clientTop || 0;
            var clientLeft = docEl.clientLeft || body.clientLeft || 0;

            var top  = box.top +  scrollTop - clientTop;
            var left = box.left + scrollLeft - clientLeft;
            
            return { x: Math.round(left), y: Math.round(top) }; //body와 element 위치 비교 하여 절대 좌표 반환
        }

        function scaleFrom(zoomOrigin, currentScale, newScale) {
            var currentShift = getCoordinateShiftDueToScale(originalSize, currentScale);
            var newShift = getCoordinateShiftDueToScale(originalSize, newScale);//스케일한 값을 위치 계산

            var zoomDistance = newScale - currentScale;
            
            var shift = {
                x: currentShift.x - newShift.x,
                y: currentShift.y - newShift.y,
            }

            var output = {
                x: zoomOrigin.x * shift.x,
                y: zoomOrigin.y * shift.y,
                z: zoomDistance
            }
            return output;
        }

        function getCoordinateShiftDueToScale(size, scale){
            var newWidth = scale * size.width;
            var newHeight = scale * size.height;
            var dx = (newWidth - size.width) / 2
            var dy = (newHeight - size.height) / 2
            return {
                x: dx,
                y: dy
            }
        }

        /*
        hammer.on('doubletap', function(e) {
            var scaleFactor = 1;
            if (current.zooming === false) {
                current.zooming = true;
            } else {
                current.zooming = false;
                scaleFactor = -scaleFactor;
            }

            element.style.transition = "0.3s";
            setTimeout(function() {
                element.style.transition = "none";
            }, 300)

            var zoomOrigin = getRelativePosition(element, { x: e.center.x, y: e.center.y }, originalSize, current.z);
            var d = scaleFrom(zoomOrigin, current.z, current.z + scaleFactor)
            current.x += d.x;
            current.y += d.y;
            current.z += d.z;

            last.x = current.x;
            last.y = current.y;
            last.z = current.z;

            update();
        })
        */

        hammer.on('pinch', function(e) {
            var d = scaleFrom(pinchZoomOrigin, last.z, last.z * e.scale); //기존 크기에서 변경 된 사이즈 반환
            current.x = d.x + last.x + e.deltaX; // 현재 핀치 위치와 변경 된 사이즈 계산하여 총 이동 거리 설정
            current.y = d.y + last.y + e.deltaY;
            current.z = d.z + last.z;
            update();
        })

        var pinchZoomOrigin = undefined;
        hammer.on('pinchstart', function(e) {
            pinchStart.x = e.center.x;
            pinchStart.y = e.center.y;
            pinchZoomOrigin = getRelativePosition(map_stores, { x: pinchStart.x, y: pinchStart.y }, originalSize, current.z);
        })

        hammer.on('pinchend', function(e) {
            last.x = current.x;
            last.y = current.y;
            last.z = current.z;
        })

        function update() {
            
            current.height = originalSize.height * current.z;
            current.width = originalSize.width * current.z;

            if(current.height <= originalSize.height){
                current.height = originalSize.height;
                return;
            }
            if(current.width <= originalSize.width){
                current.width = originalSize.width;
                return;
            }

            if(current.height >= originalSize.height + 1000){
                current.height = originalSize.height + 1000;
                return;
            }
            if(current.width >= originalSize.width + 1000){
                current.width = originalSize.width + 1000;
                return;
            }

            /*
            map_image.style.transform = "translate3d(" + current.x + "px, " + current.y + "px, 0) scale(" + current.z + ") ";
            map_stores.style.transform = "translate3d(" + current.x + "px, " + current.y + "px, 0) scale(" + current.z + ") preserve-3d";
            kiosk_popup.style.transform = "translate3d(" + 0 + "px, " + 0 + "px, 0) scale(" + 1 + ") ";
            store_popup.style.transform = "translate3d(" + 50 + "px, " + 50 + "px, 0) scale(" + 1 + ") ";
            */

            map_image.style.transform = "translate(" + current.x + "px, " + current.y + "px) scale(" + current.z + ") ";
            map_stores.style.transform = "translate(" + current.x + "px, " + current.y + "px) scale(" + current.z + ") ";
            map_image.style.zIndex=1;
            map_stores.style.zIndex=2;   

      
        

            /*
            kiosk_popup.style.transform="translate(" + 0 + "px, " + 0 + "px) scale(" + 1 + ") ";
            store_popup.style.transform="translate(" + 50 + "px, " + 50 + "px) scale(" + 1 + ") ";

            kiosk_popup.style.display="block";
            store_popup.style.display="block";

            kiosk_popup.style.zIndex="10px";
            store_popup.style.zIndex="10px";   
            $(kiosk_popup).css("zIndex","100px");
            $(store_popup).css("zIndex","100px");
            kiosk_popup.style.zIndex="10px";
            store_popup.style.zIndex="10px"; 
            */
            
        }

        $(floor_btn).on('click',function(e){ //층 변환 버튼 클릭 시 마지막 x,y,z 초기화
            last.x = 0;
            last.y = 0;
            last.z = 1;
        })
    }
    //PINCH 줌 확대,축소 설정 끝


    //통계 보내는 설정
    function setSendStatis(){
        $('.statis_menu').on('click',function(e){
            var menu = $(this).data("statis_menu");
                 
            $.ajax({
                url : "http://192.168.0.113:8031/user/xml/html_status.jsp",
                method : "GET",
                dataType : "text",
                data : {'menu':menu,'kiosk_code':gl_kiosk_code},
                success : function(data){
                    console.log(data);
                },
                error:function(e){
                    //alert('Fail.');
                }
            });
        })
    }

    function setWSconnect(){
        var wsUri = "ws://localhost:8008/echo";
        var webSocket = new WebSocket(wsUri);    

        webSocket.onopen = function(evt){
            console.log("open");
            gl_ws_timer_id = setInterval(function(t){                
                send("STATUS");
            },20000);  
        }

        webSocket.onclose = function(evt){
            console.log("close");
        }

        webSocket.onerror = function(evt){
            console.log("error");
        }

        webSocket.onmessage = function(evt){
            console.log(evt);
        }

        function send(msg){
            webSocket.send(msg);
        }
        
        

    }//setWSconnect();
    

</script>